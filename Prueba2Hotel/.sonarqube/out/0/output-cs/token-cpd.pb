¬
OC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder

 
.

 
Services

 
.

 
AddControllers

 
(

  
)

  !
;

! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
DotEnv 
. 
Load 
( 
) 
; 
var 
defaultConnection 
= 
Environment #
.# $"
GetEnvironmentVariable$ :
(: ;
$str; O
)O P
;P Q
builder 
. 
Services 
. 
AddDbContext 
< 
AppDBContext *
>* +
(+ ,
options, 3
=>4 6
options 
. 
UseSqlServer 
( 
defaultConnection *
)* +
)+ ,
;, -
builder 
. 
Services 
. 
	Configure 
< 
ApiBehaviorOptions -
>- .
(. /
options/ 6
=>7 9
{ 
options 
. +
SuppressModelStateInvalidFilter +
=, -
true. 2
;2 3
} 
) 
; 
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. 

UseSwagger 
( 
) 
; 
app   
.   
UseSwaggerUI   
(   
)   
;   
}!! 
app## 
.## 
UseAuthorization## 
(## 
)## 
;## 
app%% 
.%% 
MapControllers%% 
(%% 
)%% 
;%% 
await'' 
app'' 	
.''	 

RunAsync''
 
('' 
)'' 
;'' “
wC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Migrations\20250118135810_ActualizacionReservas.cs
	namespace 	
Prueba2Hotel
 
. 

Migrations !
{ 
public 

partial 
class !
ActualizacionReservas .
:/ 0
	Migration1 :
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str %
,% &
table 
: 
$str  
,  !
type 
: 
$str $
,$ %
	maxLength 
: 
$num 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str %
,% &
table 
: 
$str  
,  !
type 
: 
$str #
,# $
	maxLength 
: 
$num 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{   	
migrationBuilder!! 
.!! 

DropColumn!! '
(!!' (
name"" 
:"" 
$str"" %
,""% &
table## 
:## 
$str##  
)##  !
;##! "
migrationBuilder%% 
.%% 

DropColumn%% '
(%%' (
name&& 
:&& 
$str&& %
,&&% &
table'' 
:'' 
$str''  
)''  !
;''! "
}(( 	
})) 
}** ò
vC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Migrations\20250117221358_ActualizacionEstado2.cs
	namespace 	
Prueba2Hotel
 
. 

Migrations !
{ 
public 

partial 
class  
ActualizacionEstado2 -
:. /
	Migration0 9
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str #
,# $
type 
: 
$str %
,% &
	maxLength 
: 
$num 
, 
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str (
,( )
oldMaxLength 
: 
$num !
)! "
;" #
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str #
,# $
type 
: 
$str %
,% &
	maxLength 
: 
$num 
, 
nullable   
:   
false   
,    
defaultValue!! 
:!! 
$str!!  
,!!  !

oldClrType"" 
:"" 
typeof"" "
(""" #
string""# )
)"") *
,""* +
oldType## 
:## 
$str## (
,##( )
oldMaxLength$$ 
:$$ 
$num$$ !
,$$! "
oldNullable%% 
:%% 
true%% !
)%%! "
;%%" #
}&& 	
}'' 
}(( Û
uC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Migrations\20250117220334_ActualizacionEstado.cs
	namespace 	
Prueba2Hotel
 
. 

Migrations !
{ 
public 

partial 
class 
ActualizacionEstado ,
:- .
	Migration/ 8
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str #
,# $
type 
: 
$str %
,% &
	maxLength 
: 
$num 
, 
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str (
)( )
;) *
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str #
,# $
type 
: 
$str %
,% &
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType   
:   
$str   (
,  ( )
oldMaxLength!! 
:!! 
$num!! !
)!!! "
;!!" #
}"" 	
}## 
}$$ j
lC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Controllers\SerAdicionalesController.cs
	namespace 	
Prueba2Hotel
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public		 

class		 $
SerAdicionalesController		 )
:		* +
ControllerBase		, :
{

 
private 
readonly 
AppDBContext %
_appDBContext& 3
;3 4
public $
SerAdicionalesController '
(' (
AppDBContext( 4
appDBContext5 A
)A B
{ 	
_appDBContext 
= 
appDBContext (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetServicios) 5
(5 6
)6 7
{ 	
return 
Ok 
( 
await 
_appDBContext )
.) * 
ServiciosAdicionales* >
.> ?
Select? E
(E F
rF G
=>H J
newK N
{O P
rQ R
.R S
IdS U
,U V
rW X
.X Y
	ReservaIdY b
,b c
rd e
.e f
Descripcionf q
,q r
rs t
.t u
Costou z
}z {
){ |
.| }
ToListAsync	} à
(
à â
)
â ä
)
ä ã
;
ã å
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
PostServicio) 5
(5 6
[6 7
FromBody7 ?
]? @ 
ServiciosAdicionalesA U
servicioV ^
)^ _
{ 	
if 
( 
! 

ModelState 
. 
IsValid #
)# $
{ 
var 
errores 
= 

ModelState (
.( )
Values) /
.   

SelectMany   
(    
v    !
=>  " $
v  % &
.  & '
Errors  ' -
)  - .
.!! 
Select!! 
(!! 
e!! 
=>!!  
e!!! "
.!!" #
ErrorMessage!!# /
)!!/ 0
."" 
ToList"" 
("" 
)"" 
;"" 
return$$ 
Ok$$ 
($$ 
new$$ 
{$$ 
message$$  '
=$$( )
$str$$* A
,$$A B
errores$$C J
}$$K L
)$$L M
;$$M N
}%% %
UtilsServiciosAdicionales'' %%
utilsServiciosAdicionales''& ?
=''@ A
new''B E%
UtilsServiciosAdicionales''F _
(''_ `
_appDBContext''` m
)''m n
;''n o
string)) 
mensaje)) 
=)) %
utilsServiciosAdicionales)) 6
.))6 7
ValidarServicio))7 F
())F G
servicio))G O
)))O P
;))P Q
if++ 
(++ 
mensaje++ 
!=++ 
$str++ 
)++ 
{,, 
return-- 
Ok-- 
(-- 
new-- 
{-- 
message--  '
=--( )
mensaje--* 1
}--2 3
)--3 4
;--4 5
}.. 
_appDBContext00 
.00  
ServiciosAdicionales00 .
.00. /
Add00/ 2
(002 3
servicio003 ;
)00; <
;00< =
await11 
_appDBContext11 
.11  
SaveChangesAsync11  0
(110 1
)111 2
;112 3
return22 
Ok22 
(22 
servicio22 
)22 
;22  
}33 	
[55 	
HttpPut55	 
(55 
$str55 
)55 
]55 
public66 
async66 
Task66 
<66 
IActionResult66 '
>66' (
PutServicio66) 4
(664 5
int665 8
id669 ;
,66; <
[66= >
FromBody66> F
]66F G 
ServiciosAdicionales66H \
servicio66] e
)66e f
{77 	
if88 
(88 
!88 

ModelState88 
.88 
IsValid88 #
)88# $
{99 
var;; 
errores;; 
=;; 

ModelState;; (
.;;( )
Values;;) /
.<< 

SelectMany<< 
(<<  
v<<  !
=><<" $
v<<% &
.<<& '
Errors<<' -
)<<- .
.== 
Select== 
(== 
e== 
=>==  
e==! "
.==" #
ErrorMessage==# /
)==/ 0
.>> 
ToList>> 
(>> 
)>> 
;>> 
return@@ 
Ok@@ 
(@@ 
new@@ 
{@@ 
message@@  '
=@@( )
$str@@* A
,@@A B
errores@@C J
}@@K L
)@@L M
;@@M N
}AA 
servicioCC 
.CC 
IdCC 
=CC 
idCC 
;CC %
UtilsServiciosAdicionalesEE %%
utilsServiciosAdicionalesEE& ?
=EE@ A
newEEB E%
UtilsServiciosAdicionalesEEF _
(EE_ `
_appDBContextEE` m
)EEm n
;EEn o
stringGG 
mensajeGG 
=GG %
utilsServiciosAdicionalesGG 6
.GG6 7
ValidarServicioGG7 F
(GGF G
servicioGGG O
)GGO P
;GGP Q
ifII 
(II 
mensajeII 
!=II 
$strII 
)II 
{JJ 
returnKK 
OkKK 
(KK 
newKK 
{KK 
messageKK  '
=KK( )
mensajeKK* 1
}KK2 3
)KK3 4
;KK4 5
}LL 
tryNN 
{OO 
_appDBContextPP 
.PP 
EntryPP #
(PP# $
servicioPP$ ,
)PP, -
.PP- .
StatePP. 3
=PP4 5
EntityStatePP6 A
.PPA B
ModifiedPPB J
;PPJ K
awaitQQ 
_appDBContextQQ #
.QQ# $
SaveChangesAsyncQQ$ 4
(QQ4 5
)QQ5 6
;QQ6 7
returnRR 
OkRR 
(RR 
newRR 
{RR 
messageRR  '
=RR( )
servicioRR* 2
}RR3 4
)RR4 5
;RR5 6
}SS 
catchTT 
(TT (
DbUpdateConcurrencyExceptionTT /
)TT/ 0
{UU 
ifVV 
(VV 
!VV 
awaitVV 
_appDBContextVV (
.VV( ) 
ServiciosAdicionalesVV) =
.VV= >
AnyAsyncVV> F
(VVF G
sVVG H
=>VVI K
sVVL M
.VVM N
IdVVN P
==VVQ S
idVVT V
)VVV W
)VVW X
{WW 
returnXX 
NotFoundXX #
(XX# $
newXX$ '
{XX( )
messageXX* 1
=XX2 3
$strXX4 W
}XXX Y
)XXY Z
;XXZ [
}YY 
elseZZ 
{[[ 
return\\ 
NotFound\\ #
(\\# $
new\\$ '
{\\( )
message\\* 1
=\\2 3
$str\\4 X
}\\Y Z
)\\Z [
;\\[ \
}]] 
}^^ 
catch__ 
(__ 
	Exception__ 
ex__ 
)__  
{`` 
returnaa 

StatusCodeaa !
(aa! "
StatusCodesaa" -
.aa- .(
Status500InternalServerErroraa. J
,aaJ K
newaaL O
{aaP Q
messageaaR Y
=aaZ [
exaa\ ^
.aa^ _
Messageaa_ f
}aag h
)aah i
;aai j
}bb 
}cc 	
[ee 	

HttpDeleteee	 
(ee 
$stree 
)ee 
]ee 
publicff 
asyncff 
Taskff 
<ff 
IActionResultff '
>ff' (
DeleteServicioff) 7
(ff7 8
intff8 ;
idff< >
)ff> ?
{gg 	
tryhh 
{ii 
varjj 
serviciojj 
=jj 
awaitjj $
_appDBContextjj% 2
.jj2 3 
ServiciosAdicionalesjj3 G
.jjG H
	FindAsyncjjH Q
(jjQ R
idjjR T
)jjT U
;jjU V
ifkk 
(kk 
serviciokk 
==kk 
nullkk  $
)kk$ %
{ll 
returnmm 
Okmm 
(mm 
newmm !
{mm" #
messagemm$ +
=mm, -
$strmm. Q
}mmR S
)mmS T
;mmT U
}nn 
_appDBContextpp 
.pp  
ServiciosAdicionalespp 2
.pp2 3
Removepp3 9
(pp9 :
serviciopp: B
)ppB C
;ppC D
awaitqq 
_appDBContextqq #
.qq# $
SaveChangesAsyncqq$ 4
(qq4 5
)qq5 6
;qq6 7
returnrr 
Okrr 
(rr 
newrr 
{rr 
messagerr  '
=rr( )
$strrr* L
,rrL M
serviciorrN V
}rrW X
)rrX Y
;rrY Z
}ss 
catchtt 
(tt 
	Exceptiontt 
)tt 
{uu 
returnvv 

StatusCodevv !
(vv! "
StatusCodesvv" -
.vv- .(
Status500InternalServerErrorvv. J
,vvJ K
newvvL O
{vvP Q
messagevvR Y
=vvZ [
$strvv\ }
}vv~ 
)	vv Ä
;
vvÄ Å
}ww 
}xx 	
}yy 
public{{ 

class{{ %
UtilsServiciosAdicionales{{ *
{|| 
private}} 
readonly}} 
AppDBContext}} %
_appDBContext}}& 3
;}}3 4
public~~ %
UtilsServiciosAdicionales~~ (
(~~( )
AppDBContext~~) 5
appDBContext~~6 B
)~~B C
{ 	
_appDBContext
ÄÄ 
=
ÄÄ 
appDBContext
ÄÄ (
;
ÄÄ( )
}
ÅÅ 	
public
ÑÑ 
string
ÑÑ 
ValidarServicio
ÑÑ %
(
ÑÑ% &"
ServiciosAdicionales
ÑÑ& :
servicio
ÑÑ; C
)
ÑÑC D
{
ÖÖ 	
if
ÜÜ 
(
ÜÜ 
servicio
ÜÜ 
.
ÜÜ 
Descripcion
ÜÜ $
==
ÜÜ% '
null
ÜÜ( ,
)
ÜÜ, -
{
áá 
return
àà 
$str
àà 5
;
àà5 6
}
ââ 
if
ää 
(
ää 
servicio
ää 
.
ää 
Costo
ää 
==
ää !
$num
ää" #
)
ää# $
{
ãã 
return
åå 
$str
åå 0
;
åå0 1
}
çç 
if
éé 
(
éé 
servicio
éé 
.
éé 
Descripcion
éé $
.
éé$ %
Length
éé% +
>
éé, -
$num
éé. 1
)
éé1 2
{
èè 
return
êê 
$str
êê M
;
êêM N
}
ëë 
if
íí 
(
íí 
servicio
íí 
.
íí 
Costo
íí 
<
íí  
$num
íí! "
)
íí" #
{
ìì 
return
îî 
$str
îî 8
;
îî8 9
}
ïï 
else
ññ 
if
ññ 
(
ññ 
servicio
ññ 
.
ññ 
Costo
ññ #
>
ññ$ %
$num
ññ& *
)
ññ* +
{
óó 
return
òò 
$str
òò <
;
òò< =
}
ôô 
if
úú 
(
úú 
servicio
úú 
.
úú 
	ReservaId
úú "
==
úú# %
$num
úú& '
)
úú' (
{
ùù 
return
ûû 
$str
ûû 1
;
ûû1 2
}
üü 
var
¢¢ 
reserva
¢¢ 
=
¢¢ 
_appDBContext
¢¢ '
.
¢¢' (
Reserva
¢¢( /
.
¢¢/ 0
FirstOrDefault
¢¢0 >
(
¢¢> ?
r
¢¢? @
=>
¢¢A C
r
¢¢D E
.
¢¢E F
Id
¢¢F H
==
¢¢I K
servicio
¢¢L T
.
¢¢T U
	ReservaId
¢¢U ^
)
¢¢^ _
;
¢¢_ `
if
££ 
(
££ 
reserva
££ 
==
££ 
null
££ 
)
££  
{
§§ 
return
•• 
$str
•• .
;
••. /
}
¶¶ 
if
©© 
(
©© 
servicio
©© 
.
©© 
Descripcion
©© $
!=
©©% '
$str
©©( 0
&&
©©1 3
servicio
©©4 <
.
©©< =
Descripcion
©©= H
!=
©©I K
$str
©©L X
&&
©©Y [
servicio
©©\ d
.
©©d e
Descripcion
©©e p
!=
©©q s
$str
©©t z
&&
©©{ }
servicio©©~ Ü
.©©Ü á
Descripcion©©á í
!=©©ì ï
$str©©ñ ∞
)©©∞ ±
{
™™ 
return
´´ 
$str
´´ y
;
´´y z
}
¨¨ 
return
ÆÆ 
$str
ÆÆ 
;
ÆÆ 
}
∞∞ 	
}
±± 
}≤≤ ”Î
fC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Controllers\ReservasController.cs
	namespace 	
Prueba2Hotel
 
. 
Controllers "
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class 
ReservasController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AppDBContext %
_appDBContext& 3
;3 4
public 
ReservasController !
(! "
AppDBContext" .
appDBContext/ ;
); <
{ 	
_appDBContext 
= 
appDBContext (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetReservas) 4
(4 5
)5 6
{ 	
return 
Ok 
( 
await 
_appDBContext )
.) *
Reserva* 1
.1 2
Select2 8
(8 9
r9 :
=>; =
new> A
{B C
rD E
.E F
IdF H
,H I
rJ K
.K L
EntradaL S
,S T
rU V
.V W
SalidaW ]
,] ^
r_ `
.` a
Precioa g
,g h
ri j
.j k
CedulaClientek x
,x y
rz {
.{ |
NumHabitacion	| â
}
ä ã
)
ã å
.
å ç
ToListAsync
ç ò
(
ò ô
)
ô ö
)
ö õ
;
õ ú
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
PostReserva) 4
(4 5
Reserva5 <
reserva= D
)D E
{ 	
if 
( 
! 

ModelState 
. 
IsValid #
)# $
{   
var"" 
errores"" 
="" 

ModelState"" (
.""( )
Values"") /
.## 

SelectMany## 
(##  
v##  !
=>##" $
v##% &
.##& '
Errors##' -
)##- .
.$$ 
Select$$ 
($$ 
e$$ 
=>$$  
e$$! "
.$$" #
ErrorMessage$$# /
)$$/ 0
.%% 
ToList%% 
(%% 
)%% 
;%% 
return'' 
Ok'' 
('' 
new'' 
{'' 
message''  '
=''( )
$str''* A
,''A B
errores''C J
}''K L
)''L M
;''M N
}(( 
if** 
(** 
reserva** 
==** 
null** 
)**  
{**! "
return**# )
Ok*** ,
(**, -
new**- 0
{**1 2
message**3 :
=**; <
$str**= m
}**n o
)**o p
;**p q
}**r s
UtilsReservas,, 
utilsReservas,, '
=,,( )
new,,* -
UtilsReservas,,. ;
(,,; <
_appDBContext,,< I
),,I J
;,,J K
if.. 
(.. 
string.. 
... 
IsNullOrEmpty.. $
(..$ %
reserva..% ,
..., -
CedulaCliente..- :
)..: ;
)..; <
{..= >
return..? E
Ok..F H
(..H I
new..I L
{..M N
message..O V
=..W X
$str..Y ~
}	.. Ä
)
..Ä Å
;
..Å Ç
}
..É Ñ
if// 
(// 
string// 
.// 
IsNullOrEmpty// $
(//$ %
reserva//% ,
.//, -
NumHabitacion//- :
)//: ;
)//; <
{//= >
return//? E
Ok//F H
(//H I
new//I L
{//M N
message//O V
=//W X
$str	//Y Ä
}
//Å Ç
)
//Ç É
;
//É Ñ
}
//Ö Ü
int11 
	idCliente11 
=11 
utilsReservas11 )
.11) *
ObtenerIdCliente11* :
(11: ;
reserva11; B
.11B C
CedulaCliente11C P
,11P Q
reserva11R Y
)11Y Z
;11Z [
if22 
(22 
	idCliente22 
==22 
$num22 
)22 
{22  !
return22" (
Ok22) +
(22+ ,
new22, /
{220 1
message222 9
=22: ;
$str22< S
}22T U
)22U V
;22V W
}22X Y
reserva33 
.33 
	ClienteId33 
=33 
	idCliente33  )
;33) *
int55 
idHabitacion55 
=55 
utilsReservas55 ,
.55, -
ObtenerIdHabitacion55- @
(55@ A
reserva55A H
.55H I
NumHabitacion55I V
,55V W
reserva55X _
)55_ `
;55` a
if66 
(66 
idHabitacion66 
==66 
$num66  !
)66! "
{66# $
return66% +
Ok66, .
(66. /
new66/ 2
{663 4
message665 <
=66= >
$str66? Y
}66Z [
)66[ \
;66\ ]
}66^ _
reserva77 
.77 
HabitacionId77  
=77! "
idHabitacion77# /
;77/ 0
string99 
mensaje99 
=99 
UtilsReservas99 *
.99* +
ValidarReserva99+ 9
(999 :
reserva99: A
)99A B
;99B C
if:: 
(:: 
mensaje:: 
!=:: 
$str:: 
):: 
{::  
return::! '
Ok::( *
(::* +
new::+ .
{::/ 0
message::1 8
=::9 :
mensaje::; B
}::C D
)::D E
;::E F
}::G H
mensaje<< 
=<< 
utilsReservas<< #
.<<# $ 
ValidarFechasReserva<<$ 8
(<<8 9
reserva<<9 @
)<<@ A
;<<A B
if== 
(== 
mensaje== 
!=== 
$str== 
)== 
{==  
return==! '
Ok==( *
(==* +
new==+ .
{==/ 0
message==1 8
===9 :
mensaje==; B
}==C D
)==D E
;==E F
}==G H
var@@ 

habitacion@@ 
=@@ 
await@@ "
_appDBContext@@# 0
.@@0 1

Habitacion@@1 ;
.@@; <
FirstOrDefaultAsync@@< O
(@@O P
h@@P Q
=>@@R T
h@@U V
.@@V W
Id@@W Y
==@@Z \
reserva@@] d
.@@d e
HabitacionId@@e q
)@@q r
;@@r s
ifAA 
(AA 

habitacionAA 
==AA 
nullAA "
)AA" #
{AA$ %
returnAA& ,
OkAA- /
(AA/ 0
newAA0 3
{AA4 5
messageAA6 =
=AA> ?
$strAA@ Z
}AA[ \
)AA\ ]
;AA] ^
}AA_ `

habitacionBB 
.BB 
EstadoBB 
=BB 
$strBB  +
;BB+ ,
_appDBContextCC 
.CC 
EntryCC 
(CC  

habitacionCC  *
)CC* +
.CC+ ,
StateCC, 1
=CC2 3
EntityStateCC4 ?
.CC? @
ModifiedCC@ H
;CCH I
awaitDD 
_appDBContextDD 
.DD  
SaveChangesAsyncDD  0
(DD0 1
)DD1 2
;DD2 3
_appDBContextFF 
.FF 
ReservaFF !
.FF! "
AddFF" %
(FF% &
reservaFF& -
)FF- .
;FF. /
awaitGG 
_appDBContextGG 
.GG  
SaveChangesAsyncGG  0
(GG0 1
)GG1 2
;GG2 3
returnHH 
OkHH 
(HH 
reservaHH 
)HH 
;HH 
}II 	
[KK 	
HttpPutKK	 
(KK 
$strKK 
)KK 
]KK 
publicLL 
asyncLL 
TaskLL 
<LL 
IActionResultLL '
>LL' (

PutReservaLL) 3
(LL3 4
intLL4 7
idLL8 :
,LL: ;
[LL< =
FromBodyLL= E
]LLE F
ReservaLLG N
reservaLLO V
)LLV W
{MM 	
ifNN 
(NN 
!NN 

ModelStateNN 
.NN 
IsValidNN #
)NN# $
{OO 
varQQ 
erroresQQ 
=QQ 

ModelStateQQ (
.QQ( )
ValuesQQ) /
.RR 

SelectManyRR 
(RR  
vRR  !
=>RR" $
vRR% &
.RR& '
ErrorsRR' -
)RR- .
.SS 
SelectSS 
(SS 
eSS 
=>SS  
eSS! "
.SS" #
ErrorMessageSS# /
)SS/ 0
.TT 
ToListTT 
(TT 
)TT 
;TT 
returnVV 
OkVV 
(VV 
newVV 
{VV 
messageVV  '
=VV( )
$strVV* A
,VVA B
erroresVVC J
}VVK L
)VVL M
;VVM N
}WW 
reservaYY 
.YY 
IdYY 
=YY 
idYY 
;YY 
string[[ 
mensaje[[ 
=[[ 
UtilsReservas[[ *
.[[* +
ValidarReserva[[+ 9
([[9 :
reserva[[: A
)[[A B
;[[B C
if\\ 
(\\ 
mensaje\\ 
!=\\ 
$str\\ 
)\\ 
{\\  
return\\! '
Ok\\( *
(\\* +
new\\+ .
{\\/ 0
message\\1 8
=\\9 :
mensaje\\; B
}\\C D
)\\D E
;\\E F
}\\G H
var__ 

habitacion__ 
=__ 
await__ "
_appDBContext__# 0
.__0 1

Habitacion__1 ;
.__; <
FirstOrDefaultAsync__< O
(__O P
h__P Q
=>__R T
h__U V
.__V W
NumHabitacion__W d
==__e g
reserva__h o
.__o p
NumHabitacion__p }
)__} ~
;__~ 
if`` 
(`` 

habitacion`` 
==`` 
null`` "
)``" #
{``$ %
return``& ,
Ok``- /
(``/ 0
new``0 3
{``4 5
message``6 =
=``> ?
$str``@ Z
}``[ \
)``\ ]
;``] ^
}``_ `
varcc 
clientecc 
=cc 
awaitcc 
_appDBContextcc  -
.cc- .
Clientecc. 5
.cc5 6
FirstOrDefaultAsynccc6 I
(ccI J
cccJ K
=>ccL N
cccO P
.ccP Q
CedulaccQ W
==ccX Z
reservacc[ b
.ccb c
CedulaClienteccc p
)ccp q
;ccq r
ifdd 
(dd 
clientedd 
==dd 
nulldd 
)dd  
{dd! "
returndd$ *
Okdd+ -
(dd- .
newdd. 1
{dd2 3
messagedd4 ;
=dd< =
$strdd> U
}ddV W
)ddW X
;ddX Y
}ddZ [
vargg 
ReservaExistentegg  
=gg! "
awaitgg# (
_appDBContextgg) 6
.gg6 7
Reservagg7 >
.gg> ?
FirstOrDefaultAsyncgg? R
(ggR S
cggS T
=>ggU W
cggX Y
.ggY Z
IdggZ \
==gg] _
idgg` b
)ggb c
;ggc d
ifhh 
(hh 
ReservaExistentehh  
==hh! #
nullhh$ (
)hh( )
{ii 
returnjj 
Okjj 
(jj 
newjj 
{jj 
messagejj  '
=jj( )
$strjj* B
}jjC D
)jjD E
;jjE F
}kk 
ReservaExistentemm 
.mm 
Preciomm #
=mm$ %
reservamm& -
.mm- .
Preciomm. 4
;mm4 5
ReservaExistentenn 
.nn 
NumHabitacionnn *
=nn+ ,
reservann- 4
.nn4 5
NumHabitacionnn5 B
;nnB C
trypp 
{qq 
_appDBContextrr 
.rr 
Entryrr #
(rr# $
ReservaExistenterr$ 4
)rr4 5
.rr5 6
Staterr6 ;
=rr< =
EntityStaterr> I
.rrI J
ModifiedrrJ R
;rrR S
awaitss 
_appDBContextss #
.ss# $
SaveChangesAsyncss$ 4
(ss4 5
)ss5 6
;ss6 7
returntt 
Oktt 
(tt 
newtt 
{tt 
messagett  '
=tt( )
ReservaExistentett* :
}tt; <
)tt< =
;tt= >
}uu 
catchvv 
(vv (
DbUpdateConcurrencyExceptionvv /
)vv/ 0
{ww 
ifxx 
(xx 
!xx 
awaitxx 
_appDBContextxx (
.xx( )
Reservaxx) 0
.xx0 1
AnyAsyncxx1 9
(xx9 :
rxx: ;
=>xx< >
rxx? @
.xx@ A
IdxxA C
==xxD F
idxxG I
)xxI J
)xxJ K
{xxL M
returnxxN T
OkxxU W
(xxW X
newxxX [
{xx\ ]
messagexx^ e
=xxf g
$str	xxh Ä
}
xxÅ Ç
)
xxÇ É
;
xxÉ Ñ
}
xxÖ Ü
elseyy 
{yy 
returnyy 
Okyy  
(yy  !
newyy! $
{yy% &
messageyy' .
=yy/ 0
$stryy1 T
}yyU V
)yyV W
;yyW X
}yyY Z
}zz 
catch{{ 
({{ 
	Exception{{ 
){{ 
{|| 
return}} 

StatusCode}} !
(}}! "
StatusCodes}}" -
.}}- .(
Status500InternalServerError}}. J
,}}J K
new}}L O
{}}P Q
message}}R Y
=}}Z [
$str}}\ 
}
}}Ä Å
)
}}Å Ç
;
}}Ç É
}~~ 
} 	
[
ÅÅ 	

HttpDelete
ÅÅ	 
(
ÅÅ 
$str
ÅÅ 
)
ÅÅ 
]
ÅÅ 
public
ÇÇ 
async
ÇÇ 
Task
ÇÇ 
<
ÇÇ 
IActionResult
ÇÇ '
>
ÇÇ' (
DeleteReserva
ÇÇ) 6
(
ÇÇ6 7
int
ÇÇ7 :
id
ÇÇ; =
)
ÇÇ= >
{
ÉÉ 	
try
ÑÑ 
{
ÖÖ 
var
ÜÜ 
reserva
ÜÜ 
=
ÜÜ 
await
ÜÜ #
_appDBContext
ÜÜ$ 1
.
ÜÜ1 2
Reserva
ÜÜ2 9
.
ÜÜ9 :
	FindAsync
ÜÜ: C
(
ÜÜC D
id
ÜÜD F
)
ÜÜF G
;
ÜÜG H
if
áá 
(
áá 
reserva
áá 
==
áá 
null
áá #
)
áá# $
{
àà 
return
ââ 
NotFound
ââ #
(
ââ# $
new
ââ$ '
{
ââ( )
message
ââ* 1
=
ââ2 3
$str
ââ4 L
}
ââM N
)
ââN O
;
ââO P
}
ää 
var
çç 

habitacion
çç 
=
çç  
await
çç! &
_appDBContext
çç' 4
.
çç4 5

Habitacion
çç5 ?
.
çç? @!
FirstOrDefaultAsync
çç@ S
(
ççS T
h
ççT U
=>
ççV X
h
ççY Z
.
ççZ [
Id
çç[ ]
==
çç^ `
reserva
çça h
.
ççh i
HabitacionId
ççi u
)
ççu v
;
ççv w
if
éé 
(
éé 

habitacion
éé 
==
éé !
null
éé" &
)
éé& '
{
èè 
return
êê 
Ok
êê 
(
êê 
new
êê !
{
êê" #
message
êê$ +
=
êê, -
$str
êê. H
}
êêI J
)
êêJ K
;
êêK L
}
ëë 

habitacion
íí 
.
íí 
Estado
íí !
=
íí" #
$str
íí$ 0
;
íí0 1
_appDBContext
ìì 
.
ìì 
Entry
ìì #
(
ìì# $

habitacion
ìì$ .
)
ìì. /
.
ìì/ 0
State
ìì0 5
=
ìì6 7
EntityState
ìì8 C
.
ììC D
Modified
ììD L
;
ììL M
await
îî 
_appDBContext
îî #
.
îî# $
SaveChangesAsync
îî$ 4
(
îî4 5
)
îî5 6
;
îî6 7
var
óó 
	servicios
óó 
=
óó 
await
óó  %
_appDBContext
óó& 3
.
óó3 4"
ServiciosAdicionales
óó4 H
.
óóH I
Where
óóI N
(
óóN O
s
óóO P
=>
óóQ S
s
óóT U
.
óóU V
	ReservaId
óóV _
==
óó` b
id
óóc e
)
óóe f
.
óóf g
ToListAsync
óóg r
(
óór s
)
óós t
;
óót u
foreach
òò 
(
òò 
var
òò 
s
òò 
in
òò !
	servicios
òò" +
)
òò+ ,
{
ôô 
_appDBContext
öö !
.
öö! ""
ServiciosAdicionales
öö" 6
.
öö6 7
Remove
öö7 =
(
öö= >
s
öö> ?
)
öö? @
;
öö@ A
}
õõ 
_appDBContext
ùù 
.
ùù 
Reserva
ùù %
.
ùù% &
Remove
ùù& ,
(
ùù, -
reserva
ùù- 4
)
ùù4 5
;
ùù5 6
await
ûû 
_appDBContext
ûû #
.
ûû# $
SaveChangesAsync
ûû$ 4
(
ûû4 5
)
ûû5 6
;
ûû6 7
return
üü 
Ok
üü 
(
üü 
new
üü 
{
üü 
message
üü  '
=
üü( )
$str
üü* K
,
üüK L
reserva
üüM T
}
üüU V
)
üüV W
;
üüW X
}
°° 
catch
¢¢ 
(
¢¢ 
	Exception
¢¢ 
)
¢¢ 
{
££ 
return
§§ 

StatusCode
§§ !
(
§§! "
StatusCodes
§§" -
.
§§- .*
Status500InternalServerError
§§. J
,
§§J K
new
§§L O
{
§§P Q
message
§§R Y
=
§§Z [
$str
§§\ |
}
§§} ~
)
§§~ 
;§§ Ä
}
•• 
}
¶¶ 	
}
ßß 
public
©© 

class
©© 
UtilsReservas
©© 
{
™™ 
private
´´ 
readonly
´´ 
AppDBContext
´´ %
_appDBContext
´´& 3
;
´´3 4
public
¨¨ 
UtilsReservas
¨¨ 
(
¨¨ 
AppDBContext
¨¨ )
appDBContext
¨¨* 6
)
¨¨6 7
{
≠≠ 	
_appDBContext
ÆÆ 
=
ÆÆ 
appDBContext
ÆÆ (
;
ÆÆ( )
}
ØØ 	
public
≤≤ 
static
≤≤ 
string
≤≤ 
ValidarReserva
≤≤ +
(
≤≤+ ,
Reserva
≤≤, 3
reserva
≤≤4 ;
)
≤≤; <
{
≥≥ 	
string
¥¥ 
mensaje
¥¥ 
=
¥¥ !
ValidarIngresoDatos
¥¥ 0
(
¥¥0 1
reserva
¥¥1 8
)
¥¥8 9
;
¥¥9 :
if
µµ 
(
µµ 
mensaje
µµ 
!=
µµ 
$str
µµ 
)
µµ 
{
µµ  
return
µµ! '
mensaje
µµ( /
;
µµ/ 0
}
µµ1 2
mensaje
∑∑ 
=
∑∑ "
ValidarIngresoFechas
∑∑ *
(
∑∑* +
reserva
∑∑+ 2
)
∑∑2 3
;
∑∑3 4
if
∏∏ 
(
∏∏ 
mensaje
∏∏ 
!=
∏∏ 
$str
∏∏ 
)
∏∏ 
{
∏∏  
return
∏∏! '
mensaje
∏∏( /
;
∏∏/ 0
}
∏∏1 2
if
ªª 
(
ªª 
reserva
ªª 
.
ªª 
Entrada
ªª 
>=
ªª  "
reserva
ªª# *
.
ªª* +
Salida
ªª+ 1
)
ªª1 2
{
ºº 
return
ΩΩ 
$str
ΩΩ Q
;
ΩΩQ R
}
ææ 
if
¡¡ 
(
¡¡ 
reserva
¡¡ 
.
¡¡ 
Precio
¡¡ 
>
¡¡  
$num
¡¡! &
)
¡¡& '
{
¬¬ 
return
√√ 
$str
√√ >
;
√√> ?
}
ƒƒ 
return
∆∆ 
$str
∆∆ 
;
∆∆ 
}
«« 	
public
…… 
static
…… 
string
…… !
ValidarIngresoDatos
…… 0
(
……0 1
Reserva
……1 8
reserva
……9 @
)
……@ A
{
   	
if
ÀÀ 
(
ÀÀ 
reserva
ÀÀ 
.
ÀÀ 
Entrada
ÀÀ 
==
ÀÀ  "
null
ÀÀ# '
)
ÀÀ' (
{
ÃÃ 
return
ÕÕ 
$str
ÕÕ :
;
ÕÕ: ;
}
ŒŒ 
if
œœ 
(
œœ 
reserva
œœ 
.
œœ 
Salida
œœ 
==
œœ !
null
œœ" &
)
œœ& '
{
–– 
return
—— 
$str
—— 9
;
——9 :
}
““ 
if
”” 
(
”” 
reserva
”” 
.
”” 
Precio
”” 
==
”” !
$num
””" #
)
””# $
{
‘‘ 
return
’’ 
$str
’’ 0
;
’’0 1
}
÷÷ 
else
◊◊ 
if
◊◊ 
(
◊◊ 
reserva
◊◊ 
.
◊◊ 
Precio
◊◊ #
<
◊◊$ %
$num
◊◊& '
)
◊◊' (
{
ÿÿ 
return
ŸŸ 
$str
ŸŸ 9
;
ŸŸ9 :
}
⁄⁄ 
return
€€ 
$str
€€ 
;
€€ 
}
‹‹ 	
public
ﬁﬁ 
int
ﬁﬁ 
ObtenerIdCliente
ﬁﬁ #
(
ﬁﬁ# $
string
ﬁﬁ$ *
cedula
ﬁﬁ+ 1
,
ﬁﬁ1 2
Reserva
ﬁﬁ3 :
reserva
ﬁﬁ; B
)
ﬁﬁB C
{
ﬂﬂ 	
var
‡‡ 
cliente
‡‡ 
=
‡‡ 
_appDBContext
‡‡ '
.
‡‡' (
Cliente
‡‡( /
.
‡‡/ 0
FirstOrDefault
‡‡0 >
(
‡‡> ?
c
‡‡? @
=>
‡‡A C
c
‡‡D E
.
‡‡E F
Cedula
‡‡F L
==
‡‡M O
reserva
‡‡P W
.
‡‡W X
CedulaCliente
‡‡X e
)
‡‡e f
;
‡‡f g
if
·· 
(
·· 
cliente
·· 
==
·· 
null
·· 
)
··  
{
‚‚ 
return
„„ 
$num
„„ 
;
„„ 
}
‰‰ 
return
ÂÂ 
cliente
ÂÂ 
.
ÂÂ 
Id
ÂÂ 
;
ÂÂ 
}
ÊÊ 	
public
ËË 
int
ËË !
ObtenerIdHabitacion
ËË &
(
ËË& '
string
ËË' -
numHabitacion
ËË. ;
,
ËË; <
Reserva
ËË= D
reserva
ËËE L
)
ËËL M
{
ÈÈ 	
var
ÍÍ 

habitacion
ÍÍ 
=
ÍÍ 
_appDBContext
ÍÍ *
.
ÍÍ* +

Habitacion
ÍÍ+ 5
.
ÍÍ5 6
FirstOrDefault
ÍÍ6 D
(
ÍÍD E
h
ÍÍE F
=>
ÍÍG I
h
ÍÍJ K
.
ÍÍK L
NumHabitacion
ÍÍL Y
==
ÍÍZ \
reserva
ÍÍ] d
.
ÍÍd e
NumHabitacion
ÍÍe r
)
ÍÍr s
;
ÍÍs t
if
ÎÎ 
(
ÎÎ 

habitacion
ÎÎ 
==
ÎÎ 
null
ÎÎ "
)
ÎÎ" #
{
ÏÏ 
return
ÌÌ 
$num
ÌÌ 
;
ÌÌ 
}
ÓÓ 
return
ÔÔ 

habitacion
ÔÔ 
.
ÔÔ 
Id
ÔÔ  
;
ÔÔ  !
}
 	
public
ÚÚ 
string
ÚÚ "
ValidarFechasReserva
ÚÚ *
(
ÚÚ* +
Reserva
ÚÚ+ 2
reserva
ÚÚ3 :
)
ÚÚ: ;
{
ÛÛ 	
var
ıı 
reservas
ıı 
=
ıı 
_appDBContext
ıı (
.
ıı( )
Reserva
ıı) 0
.
ıı0 1
Where
ıı1 6
(
ıı6 7
r
ıı7 8
=>
ıı9 ;
r
ıı< =
.
ıı= >
HabitacionId
ıı> J
==
ııK M
reserva
ııN U
.
ııU V
HabitacionId
ııV b
)
ııb c
.
ııc d
ToList
ııd j
(
ııj k
)
ıık l
;
ııl m
if
ˆˆ 
(
ˆˆ 
reservas
ˆˆ 
.
ˆˆ 
Count
ˆˆ 
==
ˆˆ !
$num
ˆˆ" #
)
ˆˆ# $
{
˜˜ 
return
¯¯ 
$str
¯¯ 
;
¯¯ 
}
˘˘ 
var
˙˙ 
habitaciones
˙˙ 
=
˙˙ 
_appDBContext
˙˙ ,
.
˙˙, -

Habitacion
˙˙- 7
.
˙˙7 8
Where
˙˙8 =
(
˙˙= >
r
˙˙> ?
=>
˙˙@ B
r
˙˙C D
.
˙˙D E
Estado
˙˙E K
==
˙˙L N
$str
˙˙O [
)
˙˙[ \
.
˙˙\ ]
ToList
˙˙] c
(
˙˙c d
)
˙˙d e
;
˙˙e f
string
˚˚ %
habitacionesDisponibles
˚˚ *
=
˚˚+ ,
$str
˚˚- /
;
˚˚/ 0
if
¸¸ 
(
¸¸ 
habitaciones
¸¸ 
.
¸¸ 
Count
¸¸ "
==
¸¸# %
$num
¸¸& '
)
¸¸' (
{
˝˝ %
habitacionesDisponibles
˛˛ '
=
˛˛( )
$str
˛˛* K
;
˛˛K L
}
ˇˇ 
else
ÄÄ 
{
ÅÅ 
var
ÇÇ 
sb
ÇÇ 
=
ÇÇ 
new
ÇÇ 
StringBuilder
ÇÇ *
(
ÇÇ* +
)
ÇÇ+ ,
;
ÇÇ, -
sb
ÉÉ 
.
ÉÉ 
Append
ÉÉ 
(
ÉÉ 
$str
ÉÉ M
)
ÉÉM N
;
ÉÉN O
foreach
ÖÖ 
(
ÖÖ 
var
ÖÖ 
h
ÖÖ 
in
ÖÖ !
habitaciones
ÖÖ" .
)
ÖÖ. /
{
ÜÜ 
sb
áá 
.
áá 
Append
áá 
(
áá 
$str
áá #
)
áá# $
.
áá$ %
Append
áá% +
(
áá+ ,
h
áá, -
.
áá- .
NumHabitacion
áá. ;
)
áá; <
;
áá< =
}
àà %
habitacionesDisponibles
ää '
=
ää( )
sb
ää* ,
.
ää, -
ToString
ää- 5
(
ää5 6
)
ää6 7
;
ää7 8
}
ãã 
foreach
çç 
(
çç 
var
çç 
r
çç 
in
çç 
reservas
çç &
)
çç& '
{
éé 
if
èè 
(
èè 
reserva
èè 
.
èè 
Entrada
èè #
>=
èè$ &
r
èè' (
.
èè( )
Entrada
èè) 0
&&
èè1 3
reserva
èè4 ;
.
èè; <
Entrada
èè< C
<=
èèD F
r
èèG H
.
èèH I
Salida
èèI O
)
èèO P
{
êê 
return
ëë 
$str
ëë T
+
ëëU V%
habitacionesDisponibles
ëëW n
;
ëën o
}
íí 
if
ìì 
(
ìì 
reserva
ìì 
.
ìì 
Salida
ìì "
>=
ìì# %
r
ìì& '
.
ìì' (
Entrada
ìì( /
&&
ìì0 2
reserva
ìì3 :
.
ìì: ;
Salida
ìì; A
<=
ììB D
r
ììE F
.
ììF G
Salida
ììG M
)
ììM N
{
îî 
return
ïï 
$str
ïï S
+
ïïT U%
habitacionesDisponibles
ïïV m
;
ïïm n
}
ññ 
}
óó 
return
ôô 
$str
ôô 
;
ôô 
}
öö 	
public
úú 
static
úú 
string
úú "
ValidarIngresoFechas
úú 1
(
úú1 2
Reserva
úú2 9
reserva
úú: A
)
úúA B
{
ùù 	
string
ûû 
formatoEsperado
ûû "
=
ûû# $
$str
ûû% ?
;
ûû? @
if
†† 
(
†† 
!
†† 
DateTime
†† 
.
†† 
TryParseExact
†† '
(
††' (
reserva
°° 
.
°° 
Entrada
°° #
?
°°# $
.
°°$ %
ToString
°°% -
(
°°- .
formatoEsperado
°°. =
)
°°= >
,
°°> ?
formatoEsperado
¢¢ #
,
¢¢# $
CultureInfo
££ 
.
££  
InvariantCulture
££  0
,
££0 1
DateTimeStyles
§§ "
.
§§" #
AssumeUniversal
§§# 2
,
§§2 3
out
•• 
DateTime
••  
fechaInicio
••! ,
)
••, -
)
••- .
{
¶¶ 
Console
ßß 
.
ßß 
	WriteLine
ßß !
(
ßß! "
fechaInicio
ßß" -
)
ßß- .
;
ßß. /
return
®® 
$str
®® j
;
®®j k
}
©© 
if
´´ 
(
´´ 
!
´´ 
DateTime
´´ 
.
´´ 
TryParseExact
´´ '
(
´´' (
reserva
¨¨ 
.
¨¨ 
Salida
¨¨ "
?
¨¨" #
.
¨¨# $
ToString
¨¨$ ,
(
¨¨, -
formatoEsperado
¨¨- <
)
¨¨< =
,
¨¨= >
formatoEsperado
≠≠ #
,
≠≠# $
CultureInfo
ÆÆ 
.
ÆÆ  
InvariantCulture
ÆÆ  0
,
ÆÆ0 1
DateTimeStyles
ØØ "
.
ØØ" #
AssumeUniversal
ØØ# 2
,
ØØ2 3
out
∞∞ 
DateTime
∞∞  
fechaFin
∞∞! )
)
∞∞) *
)
∞∞* +
{
±± 
Console
≤≤ 
.
≤≤ 
	WriteLine
≤≤ !
(
≤≤! "
fechaFin
≤≤" *
)
≤≤* +
;
≤≤+ ,
return
≥≥ 
$str
≥≥ i
;
≥≥i j
}
¥¥ 
return
µµ 
$str
µµ 
;
µµ 
}
∂∂ 	
}
∑∑ 
}∏∏ óì
hC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Controllers\HabitacionController.cs
	namespace 	
Prueba2Hotel
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public		 

class		  
HabitacionController		 %
:		& '
ControllerBase		( 6
{

 
private 
readonly 
AppDBContext %
_appDBContext& 3
;3 4
public  
HabitacionController #
(# $
AppDBContext$ 0
appDBContext1 =
)= >
{ 	
_appDBContext 
= 
appDBContext (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetHabitaciones) 8
(8 9
)9 :
{ 	
return 
Ok 
( 
await 
_appDBContext )
.) *

Habitacion* 4
.4 5
Select5 ;
(; <
r< =
=>> @
newA D
{E F
rG H
.H I
IdI K
,K L
rM N
.N O
NumHabitacionO \
,\ ]
r^ _
._ `
Tipo` d
,d e
rf g
.g h
NumMaximoPersonash y
,y z
r{ |
.| }
Descripcion	} à
,
à â
r
ä ã
.
ã å
Estado
å í
}
í ì
)
ì î
.
î ï
ToListAsync
ï †
(
† °
)
° ¢
)
¢ £
;
£ §
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
PostHabitacion) 7
(7 8

Habitacion8 B

habitacionC M
)M N
{ 	
if 
( 
! 

ModelState 
. 
IsValid #
)# $
{ 
var 
errores 
= 

ModelState (
.( )
Values) /
.   

SelectMany   
(    
v    !
=>  " $
v  % &
.  & '
Errors  ' -
)  - .
.!! 
Select!! 
(!! 
e!! 
=>!!  
e!!! "
.!!" #
ErrorMessage!!# /
)!!/ 0
."" 
ToList"" 
("" 
)"" 
;"" 
return$$ 
Ok$$ 
($$ 
new$$ 
{$$ 
message$$  '
=$$( )
$str$$* A
,$$A B
errores$$C J
}$$K L
)$$L M
;$$M N
}%% 
string'' 
mensaje'' 
='' 
UtilsHabitacion'' ,
.'', -
ValidarHabitacion''- >
(''> ?

habitacion''? I
)''I J
;''J K
if)) 
()) 
mensaje)) 
!=)) 
$str)) 
))) 
{** 
return++ 
Ok++ 
(++ 
new++ 
{++ 
message++  '
=++( )
mensaje++* 1
}++2 3
)++3 4
;++4 5
},, 
var// 
habitacionExistente// #
=//$ %
_appDBContext//& 3
.//3 4

Habitacion//4 >
.//> ?
FirstOrDefaultAsync//? R
(//R S
h//S T
=>//U W
h//X Y
.//Y Z
NumHabitacion//Z g
==//h j

habitacion//k u
.//u v
NumHabitacion	//v É
)
//É Ñ
;
//Ñ Ö
if00 
(00 
habitacionExistente00 #
!=00$ &
null00' +
)00+ ,
{11 
return22 
Ok22 
(22 
new22 
{22 
message22  '
=22( )
$str22* N
}22O P
)22P Q
;22Q R
}33 

habitacion55 
.55 
Estado55 
=55 
$str55  ,
;55, -
_appDBContext77 
.77 

Habitacion77 $
.77$ %
Add77% (
(77( )

habitacion77) 3
)773 4
;774 5
await88 
_appDBContext88 
.88  
SaveChangesAsync88  0
(880 1
)881 2
;882 3
return99 
Ok99 
(99 

habitacion99  
)99  !
;99! "
}:: 	
[<< 	
HttpPut<<	 
(<< 
$str<< "
)<<" #
]<<# $
public== 
async== 
Task== 
<== 
IActionResult== '
>==' (
PutHabitacion==) 6
(==6 7
string==7 =
NumHabitacion==> K
,==K L

Habitacion==M W

habitacion==X b
)==b c
{>> 	
if?? 
(?? 
!?? 

ModelState?? 
.?? 
IsValid?? #
)??# $
{@@ 
varBB 
erroresBB 
=BB 

ModelStateBB (
.BB( )
ValuesBB) /
.CC 

SelectManyCC 
(CC  
vCC  !
=>CC" $
vCC% &
.CC& '
ErrorsCC' -
)CC- .
.DD 
SelectDD 
(DD 
eDD 
=>DD  
eDD! "
.DD" #
ErrorMessageDD# /
)DD/ 0
.EE 
ToListEE 
(EE 
)EE 
;EE 
returnGG 
OkGG 
(GG 
newGG 
{GG 
messageGG  '
=GG( )
$strGG* A
,GGA B
erroresGGC J
}GGK L
)GGL M
;GGM N
}HH 
ifJJ 
(JJ 
NumHabitacionJJ 
!=JJ  

habitacionJJ! +
.JJ+ ,
NumHabitacionJJ, 9
)JJ9 :
{KK 
returnLL 
OkLL 
(LL 
newLL 
{LL 
messageLL  '
=LL( )
$strLL* S
}LLT U
)LLU V
;LLV W
}MM 
stringOO 
mensajeOO 
=OO 
UtilsHabitacionOO ,
.OO, -
ValidarHabitacionOO- >
(OO> ?

habitacionOO? I
)OOI J
;OOJ K
ifPP 
(PP 
!PP 
stringPP 
.PP 
IsNullOrEmptyPP %
(PP% &
mensajePP& -
)PP- .
)PP. /
{QQ 
returnRR 
OkRR 
(RR 
newRR 
{RR 
messageRR  '
=RR( )
mensajeRR* 1
}RR2 3
)RR3 4
;RR4 5
}SS 
varUU 
habitacionExistenteUU #
=UU$ %
awaitUU& +
_appDBContextUU, 9
.UU9 :

HabitacionUU: D
.UUD E
FirstOrDefaultAsyncUUE X
(UUX Y
hUUY Z
=>UU[ ]
hUU^ _
.UU_ `
NumHabitacionUU` m
==UUn p
NumHabitacionUUq ~
)UU~ 
;	UU Ä
ifVV 
(VV 
habitacionExistenteVV #
==VV$ &
nullVV' +
)VV+ ,
{WW 
returnXX 
OkXX 
(XX 
newXX 
{XX 
messageXX  '
=XX( )
$strXX* E
}XXF G
)XXG H
;XXH I
}YY 
habitacionExistente[[ 
.[[  
Tipo[[  $
=[[% &

habitacion[[' 1
.[[1 2
Tipo[[2 6
;[[6 7
habitacionExistente\\ 
.\\  
NumMaximoPersonas\\  1
=\\2 3

habitacion\\4 >
.\\> ?
NumMaximoPersonas\\? P
;\\P Q
habitacionExistente]] 
.]]  
Descripcion]]  +
=]], -

habitacion]]. 8
.]]8 9
Descripcion]]9 D
;]]D E
try__ 
{`` 
_appDBContextaa 
.aa 

Habitacionaa (
.aa( )
Updateaa) /
(aa/ 0
habitacionExistenteaa0 C
)aaC D
;aaD E
awaitbb 
_appDBContextbb #
.bb# $
SaveChangesAsyncbb$ 4
(bb4 5
)bb5 6
;bb6 7
returncc 
Okcc 
(cc 
newcc 
{cc 
messagecc  '
=cc( )
$strcc* P
}ccQ R
)ccR S
;ccS T
}dd 
catchee 
(ee (
DbUpdateConcurrencyExceptionee /
exee0 2
)ee2 3
{ff 
returngg 
Okgg 
(gg 
newgg 
{gg 
messagegg  '
=gg( )
$strgg* O
+ggP Q
exggR T
.ggT U
MessageggU \
}gg] ^
)gg^ _
;gg_ `
}hh 
catchii 
(ii 
	Exceptionii 
exii 
)ii  
{jj 
returnkk 

StatusCodekk !
(kk! "
StatusCodeskk" -
.kk- .(
Status500InternalServerErrorkk. J
,kkJ K
newkkL O
{kkP Q
messagekkR Y
=kkZ [
exkk\ ^
.kk^ _
Messagekk_ f
}kkg h
)kkh i
;kki j
}ll 
}mm 	
[oo 	

HttpDeleteoo	 
(oo 
$stroo %
)oo% &
]oo& '
publicpp 
asyncpp 
Taskpp 
<pp 
IActionResultpp '
>pp' (
DeleteHabitacionpp) 9
(pp9 :
stringpp: @
NumHabitacionppA N
)ppN O
{qq 	
tryrr 
{ss 
varuu 

habitacionuu 
=uu  
awaituu! &
_appDBContextuu' 4
.uu4 5

Habitacionuu5 ?
.uu? @
FirstOrDefaultAsyncuu@ S
(uuS T
huuT U
=>uuV X
huuY Z
.uuZ [
NumHabitacionuu[ h
==uui k
NumHabitacionuul y
)uuy z
;uuz {
ifvv 
(vv 

habitacionvv 
==vv !
nullvv" &
)vv& '
{ww 
returnxx 
Okxx 
(xx 
newxx !
{xx" #
messagexx$ +
=xx, -
$strxx. I
}xxJ K
)xxK L
;xxL M
}yy 
var{{ 
id{{ 
={{ 

habitacion{{ #
.{{# $
Id{{$ &
;{{& '
var~~ 
reservas~~ 
=~~ 
await~~ $
_appDBContext~~% 2
.~~2 3
Reserva~~3 :
.~~: ;
Where~~; @
(~~@ A
r~~A B
=>~~C E
r~~F G
.~~G H
HabitacionId~~H T
==~~U W
id~~X Z
)~~Z [
.~~[ \
ToListAsync~~\ g
(~~g h
)~~h i
;~~i j
string
ÅÅ 
nuevaHabitacion
ÅÅ &
=
ÅÅ' (
$str
ÅÅ) +
;
ÅÅ+ ,
foreach
ÇÇ 
(
ÇÇ 
var
ÇÇ 
reserva
ÇÇ $
in
ÇÇ% '
reservas
ÇÇ( 0
)
ÇÇ0 1
{
ÉÉ 
var
ÑÑ "
habitacionDisponible
ÑÑ ,
=
ÑÑ- .
await
ÑÑ/ 4
_appDBContext
ÑÑ5 B
.
ÑÑB C

Habitacion
ÑÑC M
.
ÑÑM N!
FirstOrDefaultAsync
ÑÑN a
(
ÑÑa b
h
ÑÑb c
=>
ÑÑd f
h
ÑÑg h
.
ÑÑh i
Estado
ÑÑi o
==
ÑÑp r
$str
ÑÑs 
)ÑÑ Ä
;ÑÑÄ Å
if
ÖÖ 
(
ÖÖ "
habitacionDisponible
ÖÖ ,
!=
ÖÖ- /
null
ÖÖ0 4
)
ÖÖ4 5
{
ÜÜ 
reserva
áá 
.
áá  
HabitacionId
áá  ,
=
áá- ."
habitacionDisponible
áá/ C
.
ááC D
Id
ááD F
;
ááF G
reserva
àà 
.
àà  
NumHabitacion
àà  -
=
àà. /"
habitacionDisponible
àà0 D
.
ààD E
NumHabitacion
ààE R
;
ààR S
_appDBContext
ââ %
.
ââ% &
Entry
ââ& +
(
ââ+ ,
reserva
ââ, 3
)
ââ3 4
.
ââ4 5
State
ââ5 :
=
ââ; <
EntityState
ââ= H
.
ââH I
Modified
ââI Q
;
ââQ R
nuevaHabitacion
ää '
=
ää( )"
habitacionDisponible
ää* >
.
ää> ?
NumHabitacion
ää? L
;
ääL M
}
ãã 
else
åå 
{
çç 
return
éé 

BadRequest
éé )
(
éé) *
new
éé* -
{
éé. /
message
éé0 7
=
éé8 9
$stréé: õ
}ééú ù
)ééù û
;ééû ü
}
èè 
}
êê 
_appDBContext
íí 
.
íí 

Habitacion
íí (
.
íí( )
Remove
íí) /
(
íí/ 0

habitacion
íí0 :
)
íí: ;
;
íí; <
await
ìì 
_appDBContext
ìì #
.
ìì# $
SaveChangesAsync
ìì$ 4
(
ìì4 5
)
ìì5 6
;
ìì6 7
return
îî 
Ok
îî 
(
îî 
new
îî 
{
îî 
message
îî  '
=
îî( )
$str
îî* n
+
îîo p
nuevaHabitacionîîq Ä
,îîÄ Å

habitacionîîÇ å
}îîç é
)îîé è
;îîè ê
}
ïï 
catch
ññ 
(
ññ 
	Exception
ññ 
ex
ññ 
)
ññ  
{
óó 
return
òò 

StatusCode
òò !
(
òò! "
StatusCodes
òò" -
.
òò- .*
Status500InternalServerError
òò. J
,
òòJ K
new
òòL O
{
òòP Q
message
òòR Y
=
òòZ [
ex
òò\ ^
.
òò^ _
Message
òò_ f
}
òòg h
)
òòh i
;
òòi j
}
ôô 
}
öö 	
}
õõ 
public
ùù 

static
ùù 
class
ùù 
UtilsHabitacion
ùù '
{
ûû 
public
üü 
static
üü 
string
üü 
ValidarHabitacion
üü .
(
üü. /

Habitacion
üü/ 9

habitacion
üü: D
)
üüD E
{
†† 	
string
°° 
mensaje
°° 
=
°° 
$str
°° 
;
°°  
if
££ 
(
££ 

habitacion
££ 
.
££ 
NumHabitacion
££ (
==
££) +
null
££, 0
)
££0 1
{
§§ 
return
•• 
$str
•• >
;
••> ?
}
¶¶ 
if
®® 
(
®® 
!
®® 
int
®® 
.
®® 
TryParse
®® 
(
®® 

habitacion
®® (
.
®®( )
NumMaximoPersonas
®®) :
.
®®: ;
ToString
®®; C
(
®®C D
)
®®D E
,
®®E F
out
®®G J
int
®®K N
numMaximoPersonas
®®O `
)
®®` a
)
®®a b
{
©© 
Console
™™ 
.
™™ 
	WriteLine
™™ !
(
™™! "
numMaximoPersonas
™™" 3
)
™™3 4
;
™™4 5
return
´´ 
$str
´´ ~
;
´´~ 
}
¨¨ 
else
≠≠ 
if
≠≠ 
(
≠≠ 

habitacion
≠≠ 
.
≠≠  
NumMaximoPersonas
≠≠  1
==
≠≠2 4
$num
≠≠5 6
)
≠≠6 7
{
ÆÆ 
return
ØØ 
$str
ØØ C
;
ØØC D
}
∞∞ 
if
±± 
(
±± 

habitacion
±± 
.
±± 
Descripcion
±± &
==
±±' )
null
±±* .
)
±±. /
{
≤≤ 
return
≥≥ 
$str
≥≥ 5
;
≥≥5 6
}
¥¥ 
if
µµ 
(
µµ 

habitacion
µµ 
.
µµ 
Tipo
µµ 
==
µµ  "
null
µµ# '
)
µµ' (
{
∂∂ 
return
∑∑ 
$str
∑∑ <
;
∑∑< =
}
∏∏ 
if
ªª 
(
ªª 

habitacion
ªª 
.
ªª 
NumMaximoPersonas
ªª ,
>
ªª- .
$num
ªª/ 0
||
ªª1 3

habitacion
ªª4 >
.
ªª> ?
NumMaximoPersonas
ªª? P
<
ªªQ R
$num
ªªS T
)
ªªU V
{
ºº 
return
ΩΩ 
$str
ΩΩ Y
;
ΩΩY Z
}
ææ 
if
¡¡ 
(
¡¡ 
!
¡¡ 
long
¡¡ 
.
¡¡ 
TryParse
¡¡ 
(
¡¡ 

habitacion
¡¡ )
.
¡¡) *
NumHabitacion
¡¡* 7
,
¡¡7 8
out
¡¡9 <
long
¡¡= A
result
¡¡B H
)
¡¡H I
)
¡¡I J
{
¬¬ 
Console
√√ 
.
√√ 
	WriteLine
√√ !
(
√√! "
result
√√" (
)
√√( )
;
√√) *
return
ƒƒ 
(
ƒƒ 
$str
ƒƒ N
)
ƒƒN O
;
ƒƒO P
}
≈≈ 
else
∆∆ 
if
∆∆ 
(
∆∆ 

habitacion
∆∆ 
.
∆∆  
NumHabitacion
∆∆  -
.
∆∆- .
Length
∆∆. 4
>
∆∆5 6
$num
∆∆7 8
)
∆∆8 9
{
«« 
return
»» 
$str
»» P
;
»»P Q
}
…… 
else
ÀÀ 
if
ÀÀ 
(
ÀÀ 

habitacion
ÀÀ 
.
ÀÀ  
Descripcion
ÀÀ  +
.
ÀÀ+ ,
Length
ÀÀ, 2
>
ÀÀ3 4
$num
ÀÀ5 8
)
ÀÀ8 9
{
ÃÃ 
return
ÕÕ 
$str
ÕÕ M
;
ÕÕM N
}
ŒŒ 
else
œœ 
if
œœ 
(
œœ 

habitacion
œœ 
.
œœ  
Tipo
œœ  $
.
œœ$ %
Length
œœ% +
>
œœ, -
$num
œœ. 1
)
œœ1 2
{
–– 
return
—— 
$str
—— T
;
——T U
}
““ 
if
’’ 
(
’’ 

habitacion
’’ 
.
’’ 
Tipo
’’ 
!=
’’  "
$str
’’# ,
&&
’’- /

habitacion
’’0 :
.
’’: ;
Tipo
’’; ?
!=
’’@ B
$str
’’C M
&&
’’N P

habitacion
’’Q [
.
’’[ \
Tipo
’’\ `
!=
’’a c
$str
’’d o
)
’’o p
{
÷÷ 
return
◊◊ 
$str
◊◊ V
;
◊◊V W
}
ÿÿ 
return
⁄⁄ 
mensaje
⁄⁄ 
;
⁄⁄ 
}
€€ 	
}
›› 
}ﬁﬁ ›´
eC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Controllers\ClienteController.cs
	namespace 	
Prueba2Hotel
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
ClienteController

 "
:

# $
ControllerBase

% 3
{ 
private 
readonly 
AppDBContext %
_appDBContext& 3
;3 4
public 
ClienteController  
(  !
AppDBContext! -
appDBContext. :
): ;
{ 	
_appDBContext 
= 
appDBContext (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetClientes) 4
(4 5
)5 6
{ 	
return 
Ok 
( 
await 
_appDBContext )
.) *
Cliente* 1
.1 2
ToListAsync2 =
(= >
)> ?
)? @
;@ A
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
PostCliente) 4
(4 5
Cliente5 <
cliente= D
)D E
{ 	
if 
( 
! 

ModelState 
. 
IsValid #
)# $
{ 
var   
errores   
=   

ModelState   (
.  ( )
Values  ) /
.!! 

SelectMany!! 
(!!  
v!!  !
=>!!" $
v!!% &
.!!& '
Errors!!' -
)!!- .
."" 
Select"" 
("" 
e"" 
=>""  
e""! "
.""" #
ErrorMessage""# /
)""/ 0
.## 
ToList## 
(## 
)## 
;## 
return%% 
Ok%% 
(%% 
new%% 
{%% 
message%%  '
=%%( )
$str%%* A
,%%A B
errores%%C J
}%%K L
)%%L M
;%%M N
}&& 
string(( 
mensaje(( 
=(( 
UtilsCliente(( )
.(() *"
ValidacionDatosCliente((* @
(((@ A
cliente((A H
)((H I
;((I J
if** 
(** 
mensaje** 
!=** 
$str** 
)** 
{++ 
return,, 
Ok,, 
(,, 
new,, 
{,, 
message,,  '
=,,( )
mensaje,,* 1
},,2 3
),,3 4
;,,4 5
}-- 
if// 
(// 
await// 
_appDBContext// #
.//# $
Cliente//$ +
.//+ ,
AnyAsync//, 4
(//4 5
c//5 6
=>//7 9
c//: ;
.//; <
Cedula//< B
==//C E
cliente//F M
.//M N
Cedula//N T
)//T U
)//U V
{00 
return11 
Ok11 
(11 
new11 
{11 
message11  '
=11( )
$str11* P
}11Q R
)11R S
;11S T
}22 
if33 
(33 
await33 
_appDBContext33 #
.33# $
Cliente33$ +
.33+ ,
AnyAsync33, 4
(334 5
c335 6
=>337 9
c33: ;
.33; <
Telefono33< D
==33E G
cliente33H O
.33O P
Telefono33P X
)33X Y
)33Y Z
{44 
return55 
Ok55 
(55 
new55 
{55 
message55  '
=55( )
$str55* R
}55S T
)55T U
;55U V
}66 
_appDBContext88 
.88 
Cliente88 !
.88! "
Add88" %
(88% &
cliente88& -
)88- .
;88. /
await99 
_appDBContext99 
.99  
SaveChangesAsync99  0
(990 1
)991 2
;992 3
return:: 
Ok:: 
(:: 
cliente:: 
):: 
;:: 
};; 	
[<< 	
HttpPut<<	 
(<< 
$str<< 
)<< 
]<< 
public== 
async== 
Task== 
<== 
IActionResult== '
>==' (

PutCliente==) 3
(==3 4
string==4 :
cedula==; A
,==A B
[==C D
FromBody==D L
]==L M
Cliente==N U
cliente==V ]
)==] ^
{>> 	
if?? 
(?? 
!?? 

ModelState?? 
.?? 
IsValid?? #
)??# $
{@@ 
varBB 
erroresBB 
=BB 

ModelStateBB (
.BB( )
ValuesBB) /
.CC 

SelectManyCC 
(CC  
vCC  !
=>CC" $
vCC% &
.CC& '
ErrorsCC' -
)CC- .
.DD 
SelectDD 
(DD 
eDD 
=>DD  
eDD! "
.DD" #
ErrorMessageDD# /
)DD/ 0
.EE 
ToListEE 
(EE 
)EE 
;EE 
returnGG 
OkGG 
(GG 
newGG 
{GG 
messageGG  '
=GG( )
$strGG* A
,GGA B
erroresGGC J
}GGK L
)GGL M
;GGM N
}HH 
ifJJ 
(JJ 
cedulaJJ 
!=JJ 
clienteJJ !
.JJ! "
CedulaJJ" (
)JJ( )
{KK 
returnLL 
OkLL 
(LL 
newLL 
{LL 
messageLL  '
=LL( )
$strLL* N
}LLO P
)LLP Q
;LLQ R
}MM 
stringOO 
mensajeOO 
=OO 
UtilsClienteOO )
.OO) *"
ValidacionDatosClienteOO* @
(OO@ A
clienteOOA H
)OOH I
;OOI J
ifPP 
(PP 
!PP 
stringPP 
.PP 
IsNullOrEmptyPP %
(PP% &
mensajePP& -
)PP- .
)PP. /
{QQ 
returnRR 
OkRR 
(RR 
newRR 
{RR 
messageRR  '
=RR( )
mensajeRR* 1
}RR2 3
)RR3 4
;RR4 5
}SS 
varVV 
clienteExistenteVV  
=VV! "
awaitVV# (
_appDBContextVV) 6
.VV6 7
ClienteVV7 >
.VV> ?
FirstOrDefaultAsyncVV? R
(VVR S
cVVS T
=>VVU W
cVVX Y
.VVY Z
CedulaVVZ `
==VVa c
cedulaVVd j
)VVj k
;VVk l
ifWW 
(WW 
clienteExistenteWW  
==WW! #
nullWW$ (
)WW( )
{XX 
returnYY 
OkYY 
(YY 
newYY 
{YY 
messageYY  '
=YY( )
$strYY* B
}YYC D
)YYD E
;YYE F
}ZZ 
clienteExistente]] 
.]] 
Nombre]] #
=]]$ %
cliente]]& -
.]]- .
Nombre]]. 4
;]]4 5
clienteExistente^^ 
.^^ 
Apellido^^ %
=^^& '
cliente^^( /
.^^/ 0
Apellido^^0 8
;^^8 9
clienteExistente__ 
.__ 
Correo__ #
=__$ %
cliente__& -
.__- .
Correo__. 4
;__4 5
clienteExistente`` 
.`` 
Telefono`` %
=``& '
cliente``( /
.``/ 0
Telefono``0 8
;``8 9
clienteExistenteaa 
.aa 
	Direccionaa &
=aa' (
clienteaa) 0
.aa0 1
	Direccionaa1 :
;aa: ;
trycc 
{dd 
_appDBContextee 
.ee 
Clienteee %
.ee% &
Updateee& ,
(ee, -
clienteExistenteee- =
)ee= >
;ee> ?
awaitff 
_appDBContextff #
.ff# $
SaveChangesAsyncff$ 4
(ff4 5
)ff5 6
;ff6 7
returngg 
Okgg 
(gg 
newgg 
{gg 
messagegg  '
=gg( )
$strgg* M
,ggM N
clienteggO V
=ggW X
clienteExistenteggY i
}ggj k
)ggk l
;ggl m
}hh 
catchii 
(ii (
DbUpdateConcurrencyExceptionii /
)ii/ 0
{jj 
returnkk 
Okkk 
(kk 
newkk 
{kk 
messagekk  '
=kk( )
$strkk* K
}kkL M
)kkM N
;kkN O
}ll 
catchmm 
(mm 
	Exceptionmm 
exmm 
)mm  
{nn 
returnoo 

StatusCodeoo !
(oo! "
StatusCodesoo" -
.oo- .(
Status500InternalServerErroroo. J
,ooJ K
newooL O
{ooP Q
messageooR Y
=ooZ [
exoo\ ^
.oo^ _
Messageoo_ f
}oog h
)ooh i
;ooi j
}pp 
}qq 	
[ss 	

HttpDeletess	 
(ss 
$strss 
)ss 
]ss  
publictt 
asynctt 
Tasktt 
<tt 
IActionResulttt '
>tt' (
DeleteClientett) 6
(tt6 7
stringtt7 =
cedulatt> D
)ttD E
{uu 	
varvv 
clientevv 
=vv 
awaitvv 
_appDBContextvv  -
.vv- .
Clientevv. 5
.vv5 6
FirstOrDefaultAsyncvv6 I
(vvI J
cvvJ K
=>vvL N
cvvO P
.vvP Q
CedulavvQ W
==vvX Z
cedulavv[ a
)vva b
;vvb c
ifww 
(ww 
clienteww 
==ww 
nullww 
)ww  
{xx 
returnyy 
Okyy 
(yy 
newyy 
{yy 
messageyy  '
=yy( )
$stryy* B
}yyC D
)yyD E
;yyE F
}zz 
_appDBContext|| 
.|| 
Cliente|| !
.||! "
Remove||" (
(||( )
cliente||) 0
)||0 1
;||1 2
await}} 
_appDBContext}} 
.}}  
SaveChangesAsync}}  0
(}}0 1
)}}1 2
;}}2 3
return~~ 
Ok~~ 
(~~ 
cliente~~ 
)~~ 
;~~ 
} 	
}
ÄÄ 
public
ÇÇ 

static
ÇÇ 
partial
ÇÇ 
class
ÇÇ 
UtilsCliente
ÇÇ  ,
{
ÉÉ 
[
ÖÖ 	
GeneratedRegex
ÖÖ	 
(
ÖÖ 
$str
ÖÖ (
)
ÖÖ( )
]
ÖÖ) *
private
ÜÜ 
static
ÜÜ 
partial
ÜÜ 
Regex
ÜÜ $"
LetrasYEspaciosRegex
ÜÜ% 9
(
ÜÜ9 :
)
ÜÜ: ;
;
ÜÜ; <
[
àà 	
GeneratedRegex
àà	 
(
àà 
$str
àà L
)
ààL M
]
ààM N
private
ââ 
static
ââ 
partial
ââ 
Regex
ââ $"
EmailValidationRegex
ââ% 9
(
ââ9 :
)
ââ: ;
;
ââ; <
public
ãã 
static
ãã 
bool
ãã 
ValidarCedula
ãã (
(
ãã( )
string
ãã) /
cedula
ãã0 6
)
ãã6 7
{
åå 	
if
çç 
(
çç 
cedula
çç 
.
çç 
Length
çç 
!=
çç  
$num
çç! #
)
çç# $
{
éé 
return
èè 
true
èè 
;
èè 
}
êê 
int
ëë 
[
ëë 
]
ëë 
coeficientes
ëë 
=
ëë  
{
ëë! "
$num
ëë# $
,
ëë$ %
$num
ëë& '
,
ëë' (
$num
ëë) *
,
ëë* +
$num
ëë, -
,
ëë- .
$num
ëë/ 0
,
ëë0 1
$num
ëë2 3
,
ëë3 4
$num
ëë5 6
,
ëë6 7
$num
ëë8 9
,
ëë9 :
$num
ëë; <
}
ëë= >
;
ëë> ?
int
íí 
verificador
íí 
=
íí 
int
íí !
.
íí! "
Parse
íí" '
(
íí' (
cedula
íí( .
.
íí. /
	Substring
íí/ 8
(
íí8 9
$num
íí9 :
,
íí: ;
$num
íí< =
)
íí= >
)
íí> ?
;
íí? @
int
ìì 
suma
ìì 
=
ìì 
$num
ìì 
;
ìì 
for
îî 
(
îî 
int
îî 
i
îî 
=
îî 
$num
îî 
;
îî 
i
îî 
<
îî 
$num
îî  !
;
îî! "
i
îî# $
++
îî$ &
)
îî& '
{
ïï 
int
ññ 
valor
ññ 
=
ññ 
int
ññ 
.
ññ  
Parse
ññ  %
(
ññ% &
cedula
ññ& ,
.
ññ, -
	Substring
ññ- 6
(
ññ6 7
i
ññ7 8
,
ññ8 9
$num
ññ: ;
)
ññ; <
)
ññ< =
*
ññ> ?
coeficientes
ññ@ L
[
ññL M
i
ññM N
]
ññN O
;
ññO P
suma
óó 
+=
óó 
(
óó 
valor
óó 
>=
óó !
$num
óó" $
)
óó$ %
?
óó& '
valor
óó( -
-
óó. /
$num
óó0 1
:
óó2 3
valor
óó4 9
;
óó9 :
}
òò 
int
ôô 
residuo
ôô 
=
ôô 
suma
ôô 
%
ôô  
$num
ôô! #
;
ôô# $
int
öö 
	resultado
öö 
=
öö 
(
öö 
residuo
öö $
==
öö% '
$num
öö( )
)
öö) *
?
öö+ ,
$num
öö- .
:
öö/ 0
$num
öö1 3
-
öö4 5
residuo
öö6 =
;
öö= >
return
õõ 
(
õõ 
	resultado
õõ 
!=
õõ  
verificador
õõ! ,
)
õõ, -
;
õõ- .
}
úú 	
public
ûû 
static
ûû 
string
ûû $
ValidacionDatosCliente
ûû 3
(
ûû3 4
Cliente
ûû4 ;
cliente
ûû< C
)
ûûD E
{
üü 	
string
°° 
mensaje
°° 
=
°° 
$str
°° 
;
°°  
mensaje
££ 
=
££ !
ValidarIngresoDatos
££ )
(
££) *
cliente
££* 1
)
££1 2
;
££2 3
if
•• 
(
•• 
mensaje
•• 
!=
•• 
$str
•• 
)
•• 
{
¶¶ 
return
ßß 
mensaje
ßß 
;
ßß 
}
®® 
if
™™ 
(
™™ 
cliente
™™ 
.
™™ 
Cedula
™™ 
.
™™ 
Length
™™ %
!=
™™& (
$num
™™) +
)
™™+ ,
{
´´ 
return
¨¨ 
(
¨¨ 
$str
¨¨ :
)
¨¨: ;
;
¨¨; <
}
≠≠ 
else
ÆÆ 
if
ÆÆ 
(
ÆÆ 
ValidarCedula
ÆÆ "
(
ÆÆ" #
cliente
ÆÆ# *
.
ÆÆ* +
Cedula
ÆÆ+ 1
)
ÆÆ1 2
)
ÆÆ2 3
{
ØØ 
return
∞∞ 
(
∞∞ 
$str
∞∞ 1
)
∞∞1 2
;
∞∞2 3
}
±± 
else
≤≤ 
if
≤≤ 
(
≤≤ 
!
≤≤ 
long
≤≤ 
.
≤≤ 
TryParse
≤≤ #
(
≤≤# $
cliente
≤≤$ +
.
≤≤+ ,
Cedula
≤≤, 2
,
≤≤2 3
out
≤≤4 7
long
≤≤8 <
result
≤≤= C
)
≤≤C D
)
≤≤D E
{
≥≥ 
Console
¥¥ 
.
¥¥ 
	WriteLine
¥¥ !
(
¥¥! "
result
¥¥" (
)
¥¥( )
;
¥¥) *
return
µµ 
(
µµ 
$str
µµ B
)
µµB C
;
µµC D
}
∂∂ 
if
ππ 
(
ππ 
!
ππ "
LetrasYEspaciosRegex
ππ %
(
ππ% &
)
ππ& '
.
ππ' (
IsMatch
ππ( /
(
ππ/ 0
cliente
ππ0 7
.
ππ7 8
Nombre
ππ8 >
)
ππ> ?
)
ππ? @
{
∫∫ 
return
ªª 
$str
ªª >
;
ªª> ?
}
ºº 
if
ææ 
(
ææ 
!
ææ "
LetrasYEspaciosRegex
ææ %
(
ææ% &
)
ææ& '
.
ææ' (
IsMatch
ææ( /
(
ææ/ 0
cliente
ææ0 7
.
ææ7 8
Apellido
ææ8 @
)
ææ@ A
)
ææA B
{
øø 
return
¿¿ 
$str
¿¿ @
;
¿¿@ A
}
¡¡ 
bool
ƒƒ 
correoValido
ƒƒ 
=
ƒƒ "
EmailValidationRegex
ƒƒ  4
(
ƒƒ4 5
)
ƒƒ5 6
.
ƒƒ6 7
IsMatch
ƒƒ7 >
(
ƒƒ> ?
cliente
ƒƒ? F
.
ƒƒF G
Correo
ƒƒG M
)
ƒƒM N
;
ƒƒN O
if
∆∆ 
(
∆∆ 
!
∆∆ 
correoValido
∆∆ 
)
∆∆ 
{
∆∆ 
return
∆∆  &
$str
∆∆' @
;
∆∆@ A
}
∆∆B C
if
   
(
   
cliente
   
.
   
Telefono
    
.
    !
Length
  ! '
!=
  ( *
$num
  + -
)
  - .
{
ÀÀ 
return
ÃÃ 
(
ÃÃ 
$str
ÃÃ <
)
ÃÃ< =
;
ÃÃ= >
}
ÕÕ 
else
ŒŒ 
if
ŒŒ 
(
ŒŒ 
!
ŒŒ 
long
ŒŒ 
.
ŒŒ 
TryParse
ŒŒ #
(
ŒŒ# $
cliente
ŒŒ$ +
.
ŒŒ+ ,
Telefono
ŒŒ, 4
,
ŒŒ4 5
out
ŒŒ6 9
long
ŒŒ: >
result
ŒŒ? E
)
ŒŒE F
)
ŒŒF G
{
œœ 
Console
–– 
.
–– 
	WriteLine
–– !
(
––! "
result
––" (
)
––( )
;
––) *
return
—— 
(
—— 
$str
—— B
)
——B C
;
——C D
}
““ 
return
‘‘ 
mensaje
‘‘ 
;
‘‘ 
}
’’ 	
public
◊◊ 
static
◊◊ 
string
◊◊ !
ValidarIngresoDatos
◊◊ 0
(
◊◊0 1
Cliente
◊◊1 8
cliente
◊◊9 @
)
◊◊@ A
{
ÿÿ 	
if
ŸŸ 
(
ŸŸ 
cliente
ŸŸ 
.
ŸŸ 
Cedula
ŸŸ 
==
ŸŸ !
null
ŸŸ" &
)
ŸŸ& '
{
⁄⁄ 
return
€€ 
(
€€ 
$str
€€ 1
)
€€1 2
;
€€2 3
}
‹‹ 
if
›› 
(
›› 
cliente
›› 
.
›› 
Nombre
›› 
==
›› !
null
››" &
)
››& '
{
ﬁﬁ 
return
ﬂﬂ 
(
ﬂﬂ 
$str
ﬂﬂ 1
)
ﬂﬂ1 2
;
ﬂﬂ2 3
}
‡‡ 
if
·· 
(
·· 
cliente
·· 
.
·· 
Apellido
··  
==
··! #
null
··$ (
)
··( )
{
‚‚ 
return
„„ 
(
„„ 
$str
„„ 3
)
„„3 4
;
„„4 5
}
‰‰ 
if
ÂÂ 
(
ÂÂ 
cliente
ÂÂ 
.
ÂÂ 
Correo
ÂÂ 
==
ÂÂ !
$str
ÂÂ" $
)
ÂÂ$ %
{
ÊÊ 
return
ÁÁ 
(
ÁÁ 
$str
ÁÁ 1
)
ÁÁ1 2
;
ÁÁ2 3
}
ËË 
if
ÈÈ 
(
ÈÈ 
cliente
ÈÈ 
.
ÈÈ 
Telefono
ÈÈ  
==
ÈÈ! #
null
ÈÈ$ (
)
ÈÈ( )
{
ÍÍ 
return
ÎÎ 
(
ÎÎ 
$str
ÎÎ 3
)
ÎÎ3 4
;
ÎÎ4 5
}
ÏÏ 
if
ÌÌ 
(
ÌÌ 
cliente
ÌÌ 
.
ÌÌ 
	Direccion
ÌÌ !
==
ÌÌ" $
null
ÌÌ% )
)
ÌÌ) *
{
ÓÓ 
return
ÔÔ 
(
ÔÔ 
$str
ÔÔ 4
)
ÔÔ4 5
;
ÔÔ5 6
}
 
if
ÚÚ 
(
ÚÚ 
cliente
ÚÚ 
.
ÚÚ 
Nombre
ÚÚ 
.
ÚÚ 
Length
ÚÚ %
>
ÚÚ& '
$num
ÚÚ( +
)
ÚÚ+ ,
{
ÛÛ 
return
ÙÙ 
(
ÙÙ 
$str
ÙÙ I
)
ÙÙJ K
;
ÙÙK L
}
ıı 
else
ˆˆ 
if
ˆˆ 
(
ˆˆ 
cliente
ˆˆ 
.
ˆˆ 
Apellido
ˆˆ %
.
ˆˆ% &
Length
ˆˆ& ,
>
ˆˆ- .
$num
ˆˆ/ 2
)
ˆˆ2 3
{
˜˜ 
return
¯¯ 
(
¯¯ 
$str
¯¯ K
)
¯¯L M
;
¯¯M N
}
˘˘ 
else
˙˙ 
if
˙˙ 
(
˙˙ 
cliente
˙˙ 
.
˙˙ 
Correo
˙˙ #
.
˙˙# $
Length
˙˙$ *
>
˙˙+ ,
$num
˙˙- 0
)
˙˙0 1
{
˚˚ 
return
¸¸ 
(
¸¸ 
$str
¸¸ I
)
¸¸J K
;
¸¸K L
}
˝˝ 
else
˛˛ 
if
˛˛ 
(
˛˛ 
cliente
˛˛ 
.
˛˛ 
	Direccion
˛˛ &
.
˛˛& '
Length
˛˛' -
>
˛˛. /
$num
˛˛0 3
)
˛˛3 4
{
ˇˇ 
return
ÄÄ 
(
ÄÄ 
$str
ÄÄ L
)
ÄÄM N
;
ÄÄN O
}
ÅÅ 
return
ÉÉ 
$str
ÉÉ 
;
ÉÉ 
}
ÑÑ 	
}
ÖÖ 
}àà Áâ
TC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\AppDBContext.cs
	namespace 	
Prueba2Hotel
 
{ 
public 

class 
AppDBContext 
: 
	DbContext  )
{ 
public		 
AppDBContext		 
(		 
DbContextOptions		 ,
<		, -
AppDBContext		- 9
>		9 :
options		; B
)		B C
:		D E
base		F J
(		J K
options		K R
)		R S
{		T U
}		V W
public 
DbSet 
< 
Reserva 
> 
Reserva %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DbSet 
< 
Cliente 
> 
Cliente %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DbSet 
< 

Habitacion 
>  

Habitacion! +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
DbSet 
<  
ServiciosAdicionales )
>) * 
ServiciosAdicionales+ ?
{@ A
getB E
;E F
setG J
;J K
}L M
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
modelBuilder 
. 
Entity 
<  
Cliente  '
>' (
(( )
entity) /
=>0 2
{ 
entity 
. 
HasKey 
( 
c 
=>  "
c# $
.$ %
Id% '
)' (
;( )
entity 
. 
Property 
(  
c  !
=>" $
c% &
.& '
Cedula' -
)- .
.. /

IsRequired/ 9
(9 :
): ;
.; <
HasMaxLength< H
(H I
$numI K
)K L
;L M
entity 
. 
Property 
(  
c  !
=>" $
c% &
.& '
Nombre' -
)- .
.. /

IsRequired/ 9
(9 :
): ;
.; <
HasMaxLength< H
(H I
$numI L
)L M
;M N
entity 
. 
Property 
(  
c  !
=>" $
c% &
.& '
Apellido' /
)/ 0
.0 1

IsRequired1 ;
(; <
)< =
.= >
HasMaxLength> J
(J K
$numK N
)N O
;O P
entity 
. 
Property 
(  
c  !
=>" $
c% &
.& '
Correo' -
)- .
.. /

IsRequired/ 9
(9 :
): ;
.; <
HasMaxLength< H
(H I
$numI L
)L M
;M N
entity 
. 
Property 
(  
c  !
=>" $
c% &
.& '
Telefono' /
)/ 0
.0 1

IsRequired1 ;
(; <
)< =
.= >
HasMaxLength> J
(J K
$numK M
)M N
;N O
entity 
. 
Property 
(  
c  !
=>" $
c% &
.& '
	Direccion' 0
)0 1
.1 2

IsRequired2 <
(< =
)= >
.> ?
HasMaxLength? K
(K L
$numL O
)O P
;P Q
} 
) 
; 
modelBuilder 
. 
Entity 
<  

Habitacion  *
>* +
(+ ,
entity, 2
=>3 5
{   
entity!! 
.!! 
HasKey!! 
(!! 
h!! 
=>!!  "
h!!# $
.!!$ %
Id!!% '
)!!' (
;!!( )
entity"" 
."" 
Property"" 
(""  
h""  !
=>""" $
h""% &
.""& '
NumHabitacion""' 4
)""4 5
.""5 6

IsRequired""6 @
(""@ A
)""A B
.""B C
HasMaxLength""C O
(""O P
$num""P Q
)""Q R
.""R S
	IsUnicode""S \
(""\ ]
)""] ^
;""^ _
entity## 
.## 
Property## 
(##  
h##  !
=>##" $
h##% &
.##& '
NumMaximoPersonas##' 8
)##8 9
.##9 :

IsRequired##: D
(##D E
)##E F
;##F G
entity$$ 
.$$ 
Property$$ 
($$  
h$$  !
=>$$" $
h$$% &
.$$& '
Descripcion$$' 2
)$$2 3
.$$3 4

IsRequired$$4 >
($$> ?
)$$? @
.$$@ A
HasMaxLength$$A M
($$M N
$num$$N Q
)$$Q R
;$$R S
entity%% 
.%% 
Property%% 
(%%  
h%%  !
=>%%" $
h%%% &
.%%& '
Tipo%%' +
)%%+ ,
.%%, -

IsRequired%%- 7
(%%7 8
)%%8 9
.%%9 :
HasMaxLength%%: F
(%%F G
$num%%G J
)%%J K
;%%K L
entity&& 
.&& 
Property&& 
(&&  
h&&  !
=>&&" $
h&&% &
.&&& '
Estado&&' -
)&&- .
.&&. /
HasMaxLength&&/ ;
(&&; <
$num&&< ?
)&&? @
;&&@ A
}'' 
)'' 
;'' 
modelBuilder)) 
.)) 
Entity)) 
<))  
Reserva))  '
>))' (
())( )
entity))) /
=>))0 2
{** 
entity++ 
.++ 
HasKey++ 
(++ 
r++ 
=>++  "
r++# $
.++$ %
Id++% '
)++' (
;++( )
entity,, 
.,, 
Property,, 
(,,  
r,,  !
=>,," $
r,,% &
.,,& '
Entrada,,' .
),,. /
.,,/ 0

IsRequired,,0 :
(,,: ;
),,; <
;,,< =
entity-- 
.-- 
Property-- 
(--  
r--  !
=>--" $
r--% &
.--& '
Salida--' -
)--- .
.--. /

IsRequired--/ 9
(--9 :
)--: ;
;--; <
entity.. 
... 
Property.. 
(..  
r..  !
=>.." $
r..% &
...& '
Precio..' -
)..- .
.... /

IsRequired../ 9
(..9 :
)..: ;
...; <
HasColumnType..< I
(..I J
$str..J Z
)..Z [
;..[ \
entity// 
.// 
Property// 
(//  
r//  !
=>//" $
r//% &
.//& '
CedulaCliente//' 4
)//4 5
.//5 6

IsRequired//6 @
(//@ A
)//A B
.//B C
HasMaxLength//C O
(//O P
$num//P R
)//R S
;//S T
entity00 
.00 
Property00 
(00  
r00  !
=>00" $
r00% &
.00& '
NumHabitacion00' 4
)004 5
.005 6

IsRequired006 @
(00@ A
)00A B
.00B C
HasMaxLength00C O
(00O P
$num00P Q
)00Q R
;00R S
entity22 
.22 
HasOne22 
(22 
r22 
=>22  "
r22# $
.22$ %
Cliente22% ,
)22, -
.33 
WithMany33 
(33  
c33  !
=>33" $
c33% &
.33& '
Reservas33' /
)33/ 0
.44 
HasForeignKey44 $
(44$ %
r44% &
=>44' )
r44* +
.44+ ,
	ClienteId44, 5
)445 6
;446 7
entity66 
.66 
HasOne66 
(66 
r66 
=>66  "
r66# $
.66$ %

Habitacion66% /
)66/ 0
.77 
WithMany77 
(77  
h77  !
=>77" $
h77% &
.77& '
Reservas77' /
)77/ 0
.88 
HasForeignKey88 $
(88$ %
r88% &
=>88' )
r88* +
.88+ ,
HabitacionId88, 8
)888 9
;889 :
}99 
)99 
;99 
modelBuilder;; 
.;; 
Entity;; 
<;;   
ServiciosAdicionales;;  4
>;;4 5
(;;5 6
entity;;6 <
=>;;= ?
{<< 
entity== 
.== 
HasKey== 
(== 
s== 
=>==  "
s==# $
.==$ %
Id==% '
)==' (
;==( )
entity>> 
.>> 
Property>> 
(>>  
s>>  !
=>>>" $
s>>% &
.>>& '
Descripcion>>' 2
)>>2 3
.>>3 4

IsRequired>>4 >
(>>> ?
)>>? @
.>>@ A
HasMaxLength>>A M
(>>M N
$num>>N Q
)>>Q R
;>>R S
entity?? 
.?? 
Property?? 
(??  
s??  !
=>??" $
s??% &
.??& '
Costo??' ,
)??, -
.??- .

IsRequired??. 8
(??8 9
)??9 :
.??: ;
HasColumnType??; H
(??H I
$str??I Y
)??Y Z
;??Z [
entityAA 
.AA 
HasOneAA 
(AA 
sAA 
=>AA  "
sAA# $
.AA$ %
ReservaAA% ,
)AA, -
.BB 
WithManyBB 
(BB  
rBB  !
=>BB" $
rBB% &
.BB& ' 
ServiciosAdicionalesBB' ;
)BB; <
.CC 
HasForeignKeyCC $
(CC$ %
sCC% &
=>CC' )
sCC* +
.CC+ ,
	ReservaIdCC, 5
)CC5 6
;CC6 7
}DD 
)DD 
;DD 
}EE 	
}FF 
publicHH 

classHH 
ClienteHH 
{II 
[JJ 	

JsonIgnoreJJ	 
]JJ 
publicKK 
intKK 
IdKK 
{KK 
getKK 
;KK 
setKK  
;KK  !
}KK" #
publicLL 
requiredLL 
stringLL 
CedulaLL %
{LL& '
getLL( +
;LL+ ,
setLL- 0
;LL0 1
}LL2 3
publicMM 
requiredMM 
stringMM 
NombreMM %
{MM& '
getMM( +
;MM+ ,
setMM- 0
;MM0 1
}MM2 3
publicNN 
requiredNN 
stringNN 
ApellidoNN '
{NN( )
getNN* -
;NN- .
setNN/ 2
;NN2 3
}NN4 5
publicOO 
requiredOO 
stringOO 
CorreoOO %
{OO& '
getOO( +
;OO+ ,
setOO- 0
;OO0 1
}OO2 3
publicPP 
requiredPP 
stringPP 
TelefonoPP '
{PP( )
getPP* -
;PP- .
setPP/ 2
;PP2 3
}PP4 5
publicQQ 
requiredQQ 
stringQQ 
	DireccionQQ (
{QQ) *
getQQ, /
;QQ/ 0
setQQ1 4
;QQ4 5
}QQ6 7
[RR 	

JsonIgnoreRR	 
]RR 
publicSS 
ListSS 
<SS 
ReservaSS 
>SS 
?SS 
ReservasSS &
{SS' (
getSS) ,
;SS, -
setSS. 1
;SS1 2
}SS3 4
}TT 
publicVV 

classVV 

HabitacionVV 
{WW 
[XX 	

JsonIgnoreXX	 
]XX 
publicYY 
intYY 
IdYY 
{YY 
getYY 
;YY 
setYY  
;YY  !
}YY" #
publicZZ 
requiredZZ 
stringZZ 
TipoZZ #
{ZZ$ %
getZZ& )
;ZZ) *
setZZ+ .
;ZZ. /
}ZZ0 1
public[[ 
required[[ 
string[[ 
NumHabitacion[[ ,
{[[- .
get[[/ 2
;[[2 3
set[[4 7
;[[7 8
}[[9 :
public\\ 
required\\ 
int\\ 
NumMaximoPersonas\\ -
{\\. /
get\\0 3
;\\3 4
set\\5 8
;\\8 9
}\\: ;
public]] 
required]] 
string]] 
Descripcion]] *
{]]+ ,
get]]- 0
;]]0 1
set]]2 5
;]]5 6
}]]7 8
[__ 	

JsonIgnore__	 
]__ 
public`` 
string`` 
?`` 
Estado`` 
{`` 
get``  #
;``# $
set``% (
;``( )
}``* +
[bb 	

JsonIgnorebb	 
]bb 
publiccc 
Listcc 
<cc 
Reservacc 
>cc 
?cc 
Reservascc &
{cc' (
getcc) ,
;cc, -
setcc. 1
;cc1 2
}cc3 4
}dd 
publicff 

classff 
Reservaff 
{gg 
[hh 	

JsonIgnorehh	 
]hh 
publicii 
intii 
?ii 
Idii 
{ii 
getii 
;ii 
setii !
;ii! "
}ii# $
[jj 	

JsonIgnorejj	 
]jj 
publickk 
intkk 
?kk 
	ClienteIdkk 
{kk 
getkk  #
;kk# $
setkk% (
;kk( )
}kk* +
[ll 	

JsonIgnorell	 
]ll 
publicmm 
intmm 
?mm 
HabitacionIdmm  
{mm! "
getmm# &
;mm& '
setmm( +
;mm+ ,
}mm- .
publicnn 
requirednn 
DateTimenn  
?nn  !
Entradann" )
{nn* +
getnn, /
;nn/ 0
setnn1 4
;nn4 5
}nn6 7
publicoo 
requiredoo 
DateTimeoo  
?oo  !
Salidaoo" (
{oo) *
getoo+ .
;oo. /
setoo0 3
;oo3 4
}oo5 6
publicpp 
requiredpp 
decimalpp 
?pp  
Preciopp! '
{pp( )
getpp* -
;pp- .
setpp/ 2
;pp2 3
}pp4 5
publicqq 
requiredqq 
stringqq 
?qq 
CedulaClienteqq  -
{qq. /
getqq0 3
;qq3 4
setqq5 8
;qq8 9
}qq: ;
publicrr 
requiredrr 
stringrr 
?rr 
NumHabitacionrr  -
{rr. /
getrr0 3
;rr3 4
setrr5 8
;rr8 9
}rr: ;
[tt 	

JsonIgnorett	 
]tt 
publicuu 
Clienteuu 
?uu 
Clienteuu 
{uu  !
getuu" %
;uu% &
setuu' *
;uu* +
}uu, -
[vv 	

JsonIgnorevv	 
]vv 
publicww 

Habitacionww 
?ww 

Habitacionww %
{ww& '
getww( +
;ww+ ,
setww- 0
;ww0 1
}ww2 3
[xx 	

JsonIgnorexx	 
]xx 
publicyy 
Listyy 
<yy  
ServiciosAdicionalesyy (
>yy( )
?yy) * 
ServiciosAdicionalesyy+ ?
{yy@ A
getyyB E
;yyE F
setyyG J
;yyJ K
}yyL M
}zz 
public|| 

class||  
ServiciosAdicionales|| %
{}} 
[~~ 	

JsonIgnore~~	 
]~~ 
public 
int 
? 
Id 
{ 
get 
; 
set !
;! "
}# $
public
ÄÄ 
required
ÄÄ 
int
ÄÄ 
?
ÄÄ 
	ReservaId
ÄÄ &
{
ÄÄ' (
get
ÄÄ) ,
;
ÄÄ, -
set
ÄÄ. 1
;
ÄÄ1 2
}
ÄÄ3 4
public
ÅÅ 
required
ÅÅ 
string
ÅÅ 
?
ÅÅ 
Descripcion
ÅÅ  +
{
ÅÅ, -
get
ÅÅ. 1
;
ÅÅ1 2
set
ÅÅ3 6
;
ÅÅ6 7
}
ÅÅ8 9
public
ÇÇ 
required
ÇÇ 
decimal
ÇÇ 
?
ÇÇ  
Costo
ÇÇ! &
{
ÇÇ' (
get
ÇÇ) ,
;
ÇÇ, -
set
ÇÇ. 1
;
ÇÇ1 2
}
ÇÇ3 4
[
ÉÉ 	

JsonIgnore
ÉÉ	 
]
ÉÉ 
public
ÑÑ 
Reserva
ÑÑ 
?
ÑÑ 
Reserva
ÑÑ 
{
ÑÑ  !
get
ÑÑ" %
;
ÑÑ% &
set
ÑÑ' *
;
ÑÑ* +
}
ÑÑ, -
}
ÖÖ 
}ÜÜ 