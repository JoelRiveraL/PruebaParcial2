¬
OC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder

 
.

 
Services

 
.

 
AddControllers

 
(

  
)

  !
;

! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
DotEnv 
. 
Load 
( 
) 
; 
var 
defaultConnection 
= 
Environment #
.# $"
GetEnvironmentVariable$ :
(: ;
$str; O
)O P
;P Q
builder 
. 
Services 
. 
AddDbContext 
< 
AppDBContext *
>* +
(+ ,
options, 3
=>4 6
options 
. 
UseSqlServer 
( 
defaultConnection *
)* +
)+ ,
;, -
builder 
. 
Services 
. 
	Configure 
< 
ApiBehaviorOptions -
>- .
(. /
options/ 6
=>7 9
{ 
options 
. +
SuppressModelStateInvalidFilter +
=, -
true. 2
;2 3
} 
) 
; 
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. 

UseSwagger 
( 
) 
; 
app   
.   
UseSwaggerUI   
(   
)   
;   
}!! 
app## 
.## 
UseAuthorization## 
(## 
)## 
;## 
app%% 
.%% 
MapControllers%% 
(%% 
)%% 
;%% 
await'' 
app'' 	
.''	 

RunAsync''
 
('' 
)'' 
;'' “
wC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Migrations\20250118135810_ActualizacionReservas.cs
	namespace 	
Prueba2Hotel
 
. 

Migrations !
{ 
public 

partial 
class !
ActualizacionReservas .
:/ 0
	Migration1 :
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str %
,% &
table 
: 
$str  
,  !
type 
: 
$str $
,$ %
	maxLength 
: 
$num 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str %
,% &
table 
: 
$str  
,  !
type 
: 
$str #
,# $
	maxLength 
: 
$num 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{   	
migrationBuilder!! 
.!! 

DropColumn!! '
(!!' (
name"" 
:"" 
$str"" %
,""% &
table## 
:## 
$str##  
)##  !
;##! "
migrationBuilder%% 
.%% 

DropColumn%% '
(%%' (
name&& 
:&& 
$str&& %
,&&% &
table'' 
:'' 
$str''  
)''  !
;''! "
}(( 	
})) 
}** Ш
vC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Migrations\20250117221358_ActualizacionEstado2.cs
	namespace 	
Prueba2Hotel
 
. 

Migrations !
{ 
public 

partial 
class  
ActualizacionEstado2 -
:. /
	Migration0 9
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str #
,# $
type 
: 
$str %
,% &
	maxLength 
: 
$num 
, 
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str (
,( )
oldMaxLength 
: 
$num !
)! "
;" #
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str #
,# $
type 
: 
$str %
,% &
	maxLength 
: 
$num 
, 
nullable   
:   
false   
,    
defaultValue!! 
:!! 
$str!!  
,!!  !

oldClrType"" 
:"" 
typeof"" "
(""" #
string""# )
)"") *
,""* +
oldType## 
:## 
$str## (
,##( )
oldMaxLength$$ 
:$$ 
$num$$ !
,$$! "
oldNullable%% 
:%% 
true%% !
)%%! "
;%%" #
}&& 	
}'' 
}(( у
uC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Migrations\20250117220334_ActualizacionEstado.cs
	namespace 	
Prueba2Hotel
 
. 

Migrations !
{ 
public 

partial 
class 
ActualizacionEstado ,
:- .
	Migration/ 8
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str #
,# $
type 
: 
$str %
,% &
	maxLength 
: 
$num 
, 
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str (
)( )
;) *
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str #
,# $
type 
: 
$str %
,% &
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType   
:   
$str   (
,  ( )
oldMaxLength!! 
:!! 
$num!! !
)!!! "
;!!" #
}"" 	
}## 
}$$ рj
lC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Controllers\SerAdicionalesController.cs
	namespace 	
Prueba2Hotel
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public		 

class		 $
SerAdicionalesController		 )
:		* +
ControllerBase		, :
{

 
private 
readonly 
AppDBContext %
_appDBContext& 3
;3 4
public $
SerAdicionalesController '
(' (
AppDBContext( 4
appDBContext5 A
)A B
{ 	
_appDBContext 
= 
appDBContext (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetServicios) 5
(5 6
)6 7
{ 	
return 
Ok 
( 
await 
_appDBContext )
.) * 
ServiciosAdicionales* >
.> ?
Select? E
(E F
rF G
=>H J
newK N
{O P
rQ R
.R S
IdS U
,U V
rW X
.X Y
	ReservaIdY b
,b c
rd e
.e f
Descripcionf q
,q r
rs t
.t u
Costou z
}z {
){ |
.| }
ToListAsync	} И
(
И Й
)
Й К
)
К Л
;
Л М
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
PostServicio) 5
(5 6
[6 7
FromBody7 ?
]? @ 
ServiciosAdicionalesA U
servicioV ^
)^ _
{ 	
if 
( 
! 

ModelState 
. 
IsValid #
)# $
{ 
var 
errores 
= 

ModelState (
.( )
Values) /
.   

SelectMany   
(    
v    !
=>  " $
v  % &
.  & '
Errors  ' -
)  - .
.!! 
Select!! 
(!! 
e!! 
=>!!  
e!!! "
.!!" #
ErrorMessage!!# /
)!!/ 0
."" 
ToList"" 
("" 
)"" 
;"" 
return$$ 
Ok$$ 
($$ 
new$$ 
{$$ 
message$$  '
=$$( )
$str$$* A
,$$A B
errores$$C J
}$$K L
)$$L M
;$$M N
}%% %
UtilsServiciosAdicionales'' %%
utilsServiciosAdicionales''& ?
=''@ A
new''B E%
UtilsServiciosAdicionales''F _
(''_ `
_appDBContext''` m
)''m n
;''n o
string)) 
mensaje)) 
=)) %
utilsServiciosAdicionales)) 6
.))6 7
ValidarServicio))7 F
())F G
servicio))G O
)))O P
;))P Q
if++ 
(++ 
mensaje++ 
!=++ 
$str++ 
)++ 
{,, 
return-- 
Ok-- 
(-- 
new-- 
{-- 
message--  '
=--( )
mensaje--* 1
}--2 3
)--3 4
;--4 5
}.. 
_appDBContext00 
.00  
ServiciosAdicionales00 .
.00. /
Add00/ 2
(002 3
servicio003 ;
)00; <
;00< =
await11 
_appDBContext11 
.11  
SaveChangesAsync11  0
(110 1
)111 2
;112 3
return22 
Ok22 
(22 
servicio22 
)22 
;22  
}33 	
[55 	
HttpPut55	 
(55 
$str55 
)55 
]55 
public66 
async66 
Task66 
<66 
IActionResult66 '
>66' (
PutServicio66) 4
(664 5
int665 8
id669 ;
,66; <
[66= >
FromBody66> F
]66F G 
ServiciosAdicionales66H \
servicio66] e
)66e f
{77 	
if88 
(88 
!88 

ModelState88 
.88 
IsValid88 #
)88# $
{99 
var;; 
errores;; 
=;; 

ModelState;; (
.;;( )
Values;;) /
.<< 

SelectMany<< 
(<<  
v<<  !
=><<" $
v<<% &
.<<& '
Errors<<' -
)<<- .
.== 
Select== 
(== 
e== 
=>==  
e==! "
.==" #
ErrorMessage==# /
)==/ 0
.>> 
ToList>> 
(>> 
)>> 
;>> 
return@@ 
Ok@@ 
(@@ 
new@@ 
{@@ 
message@@  '
=@@( )
$str@@* A
,@@A B
errores@@C J
}@@K L
)@@L M
;@@M N
}AA 
servicioCC 
.CC 
IdCC 
=CC 
idCC 
;CC %
UtilsServiciosAdicionalesEE %%
utilsServiciosAdicionalesEE& ?
=EE@ A
newEEB E%
UtilsServiciosAdicionalesEEF _
(EE_ `
_appDBContextEE` m
)EEm n
;EEn o
stringGG 
mensajeGG 
=GG %
utilsServiciosAdicionalesGG 6
.GG6 7
ValidarServicioGG7 F
(GGF G
servicioGGG O
)GGO P
;GGP Q
ifII 
(II 
mensajeII 
!=II 
$strII 
)II 
{JJ 
returnKK 
OkKK 
(KK 
newKK 
{KK 
messageKK  '
=KK( )
mensajeKK* 1
}KK2 3
)KK3 4
;KK4 5
}LL 
tryNN 
{OO 
_appDBContextPP 
.PP 
EntryPP #
(PP# $
servicioPP$ ,
)PP, -
.PP- .
StatePP. 3
=PP4 5
EntityStatePP6 A
.PPA B
ModifiedPPB J
;PPJ K
awaitQQ 
_appDBContextQQ #
.QQ# $
SaveChangesAsyncQQ$ 4
(QQ4 5
)QQ5 6
;QQ6 7
returnRR 
OkRR 
(RR 
newRR 
{RR 
messageRR  '
=RR( )
servicioRR* 2
}RR3 4
)RR4 5
;RR5 6
}SS 
catchTT 
(TT (
DbUpdateConcurrencyExceptionTT /
)TT/ 0
{UU 
ifVV 
(VV 
!VV 
awaitVV 
_appDBContextVV (
.VV( ) 
ServiciosAdicionalesVV) =
.VV= >
AnyAsyncVV> F
(VVF G
sVVG H
=>VVI K
sVVL M
.VVM N
IdVVN P
==VVQ S
idVVT V
)VVV W
)VVW X
{WW 
returnXX 
NotFoundXX #
(XX# $
newXX$ '
{XX( )
messageXX* 1
=XX2 3
$strXX4 W
}XXX Y
)XXY Z
;XXZ [
}YY 
elseZZ 
{[[ 
return\\ 
NotFound\\ #
(\\# $
new\\$ '
{\\( )
message\\* 1
=\\2 3
$str\\4 X
}\\Y Z
)\\Z [
;\\[ \
}]] 
}^^ 
catch__ 
(__ 
	Exception__ 
ex__ 
)__  
{`` 
returnaa 

StatusCodeaa !
(aa! "
StatusCodesaa" -
.aa- .(
Status500InternalServerErroraa. J
,aaJ K
newaaL O
{aaP Q
messageaaR Y
=aaZ [
exaa\ ^
.aa^ _
Messageaa_ f
}aag h
)aah i
;aai j
}bb 
}cc 	
[ee 	

HttpDeleteee	 
(ee 
$stree 
)ee 
]ee 
publicff 
asyncff 
Taskff 
<ff 
IActionResultff '
>ff' (
DeleteServicioff) 7
(ff7 8
intff8 ;
idff< >
)ff> ?
{gg 	
tryhh 
{ii 
varjj 
serviciojj 
=jj 
awaitjj $
_appDBContextjj% 2
.jj2 3 
ServiciosAdicionalesjj3 G
.jjG H
	FindAsyncjjH Q
(jjQ R
idjjR T
)jjT U
;jjU V
ifkk 
(kk 
serviciokk 
==kk 
nullkk  $
)kk$ %
{ll 
returnmm 
Okmm 
(mm 
newmm !
{mm" #
messagemm$ +
=mm, -
$strmm. Q
}mmR S
)mmS T
;mmT U
}nn 
_appDBContextpp 
.pp  
ServiciosAdicionalespp 2
.pp2 3
Removepp3 9
(pp9 :
serviciopp: B
)ppB C
;ppC D
awaitqq 
_appDBContextqq #
.qq# $
SaveChangesAsyncqq$ 4
(qq4 5
)qq5 6
;qq6 7
returnrr 
Okrr 
(rr 
newrr 
{rr 
messagerr  '
=rr( )
$strrr* L
,rrL M
serviciorrN V
}rrW X
)rrX Y
;rrY Z
}ss 
catchtt 
(tt 
	Exceptiontt 
)tt 
{uu 
returnvv 

StatusCodevv !
(vv! "
StatusCodesvv" -
.vv- .(
Status500InternalServerErrorvv. J
,vvJ K
newvvL O
{vvP Q
messagevvR Y
=vvZ [
$strvv\ }
}vv~ 
)	vv А
;
vvА Б
}ww 
}xx 	
}yy 
public{{ 

class{{ %
UtilsServiciosAdicionales{{ *
{|| 
private}} 
readonly}} 
AppDBContext}} %
_appDBContext}}& 3
;}}3 4
public~~ %
UtilsServiciosAdicionales~~ (
(~~( )
AppDBContext~~) 5
appDBContext~~6 B
)~~B C
{ 	
_appDBContext
АА 
=
АА 
appDBContext
АА (
;
АА( )
}
ББ 	
public
ДД 
string
ДД 
ValidarServicio
ДД %
(
ДД% &"
ServiciosAdicionales
ДД& :
servicio
ДД; C
)
ДДC D
{
ЕЕ 	
if
ЖЖ 
(
ЖЖ 
servicio
ЖЖ 
.
ЖЖ 
Descripcion
ЖЖ $
==
ЖЖ% '
null
ЖЖ( ,
)
ЖЖ, -
{
ЗЗ 
return
ИИ 
$str
ИИ 5
;
ИИ5 6
}
ЙЙ 
if
КК 
(
КК 
servicio
КК 
.
КК 
Costo
КК 
==
КК !
$num
КК" #
)
КК# $
{
ЛЛ 
return
ММ 
$str
ММ 0
;
ММ0 1
}
НН 
if
ОО 
(
ОО 
servicio
ОО 
.
ОО 
Descripcion
ОО $
.
ОО$ %
Length
ОО% +
>
ОО, -
$num
ОО. 1
)
ОО1 2
{
ПП 
return
РР 
$str
РР M
;
РРM N
}
СС 
if
ТТ 
(
ТТ 
servicio
ТТ 
.
ТТ 
Costo
ТТ 
<
ТТ  
$num
ТТ! "
)
ТТ" #
{
УУ 
return
ФФ 
$str
ФФ 8
;
ФФ8 9
}
ХХ 
else
ЦЦ 
if
ЦЦ 
(
ЦЦ 
servicio
ЦЦ 
.
ЦЦ 
Costo
ЦЦ #
>
ЦЦ$ %
$num
ЦЦ& *
)
ЦЦ* +
{
ЧЧ 
return
ШШ 
$str
ШШ <
;
ШШ< =
}
ЩЩ 
if
ЬЬ 
(
ЬЬ 
servicio
ЬЬ 
.
ЬЬ 
	ReservaId
ЬЬ "
==
ЬЬ# %
$num
ЬЬ& '
)
ЬЬ' (
{
ЭЭ 
return
ЮЮ 
$str
ЮЮ 1
;
ЮЮ1 2
}
ЯЯ 
var
ҐҐ 
reserva
ҐҐ 
=
ҐҐ 
_appDBContext
ҐҐ '
.
ҐҐ' (
Reserva
ҐҐ( /
.
ҐҐ/ 0
FirstOrDefault
ҐҐ0 >
(
ҐҐ> ?
r
ҐҐ? @
=>
ҐҐA C
r
ҐҐD E
.
ҐҐE F
Id
ҐҐF H
==
ҐҐI K
servicio
ҐҐL T
.
ҐҐT U
	ReservaId
ҐҐU ^
)
ҐҐ^ _
;
ҐҐ_ `
if
££ 
(
££ 
reserva
££ 
==
££ 
null
££ 
)
££  
{
§§ 
return
•• 
$str
•• .
;
••. /
}
¶¶ 
if
©© 
(
©© 
servicio
©© 
.
©© 
Descripcion
©© $
!=
©©% '
$str
©©( 0
&&
©©1 3
servicio
©©4 <
.
©©< =
Descripcion
©©= H
!=
©©I K
$str
©©L X
&&
©©Y [
servicio
©©\ d
.
©©d e
Descripcion
©©e p
!=
©©q s
$str
©©t z
&&
©©{ }
servicio©©~ Ж
.©©Ж З
Descripcion©©З Т
!=©©У Х
$str©©Ц ∞
)©©∞ ±
{
™™ 
return
ЂЂ 
$str
ЂЂ y
;
ЂЂy z
}
ђђ 
return
ЃЃ 
$str
ЃЃ 
;
ЃЃ 
}
∞∞ 	
}
±± 
}≤≤ тл
fC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Controllers\ReservasController.cs
	namespace 	
Prueba2Hotel
 
. 
Controllers "
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class 
ReservasController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AppDBContext %
_appDBContext& 3
;3 4
public 
ReservasController !
(! "
AppDBContext" .
appDBContext/ ;
); <
{ 	
_appDBContext 
= 
appDBContext (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetReservas) 4
(4 5
)5 6
{ 	
return 
Ok 
( 
await 
_appDBContext )
.) *
Reserva* 1
.1 2
Select2 8
(8 9
r9 :
=>; =
new> A
{B C
rD E
.E F
IdF H
,H I
rJ K
.K L
EntradaL S
,S T
rU V
.V W
SalidaW ]
,] ^
r_ `
.` a
Precioa g
,g h
ri j
.j k
CedulaClientek x
,x y
rz {
.{ |
NumHabitacion	| Й
}
К Л
)
Л М
.
М Н
ToListAsync
Н Ш
(
Ш Щ
)
Щ Ъ
)
Ъ Ы
;
Ы Ь
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
PostReserva) 4
(4 5
Reserva5 <
reserva= D
)D E
{ 	
if 
( 
! 

ModelState 
. 
IsValid #
)# $
{   
var"" 
errores"" 
="" 

ModelState"" (
.""( )
Values"") /
.## 

SelectMany## 
(##  
v##  !
=>##" $
v##% &
.##& '
Errors##' -
)##- .
.$$ 
Select$$ 
($$ 
e$$ 
=>$$  
e$$! "
.$$" #
ErrorMessage$$# /
)$$/ 0
.%% 
ToList%% 
(%% 
)%% 
;%% 
return'' 
Ok'' 
('' 
new'' 
{'' 
message''  '
=''( )
$str''* A
,''A B
errores''C J
}''K L
)''L M
;''M N
}(( 
if** 
(** 
reserva** 
==** 
null** 
)**  
{**! "
return**# )
Ok*** ,
(**, -
new**- 0
{**1 2
message**3 :
=**; <
$str**= m
}**n o
)**o p
;**p q
}**r s
UtilsReservas,, 
utilsReservas,, '
=,,( )
new,,* -
UtilsReservas,,. ;
(,,; <
_appDBContext,,< I
),,I J
;,,J K
if.. 
(.. 
string.. 
... 
IsNullOrEmpty.. $
(..$ %
reserva..% ,
..., -
CedulaCliente..- :
)..: ;
)..; <
{..= >
return..? E
Ok..F H
(..H I
new..I L
{..M N
message..O V
=..W X
$str..Y ~
}	.. А
)
..А Б
;
..Б В
}
..Г Д
if// 
(// 
string// 
.// 
IsNullOrEmpty// $
(//$ %
reserva//% ,
.//, -
NumHabitacion//- :
)//: ;
)//; <
{//= >
return//? E
Ok//F H
(//H I
new//I L
{//M N
message//O V
=//W X
$str	//Y А
}
//Б В
)
//В Г
;
//Г Д
}
//Е Ж
int11 
	idCliente11 
=11 
utilsReservas11 )
.11) *
ObtenerIdCliente11* :
(11: ;
reserva11; B
.11B C
CedulaCliente11C P
,11P Q
reserva11R Y
)11Y Z
;11Z [
if22 
(22 
	idCliente22 
==22 
$num22 
)22 
{22  !
return22" (
Ok22) +
(22+ ,
new22, /
{220 1
message222 9
=22: ;
$str22< S
}22T U
)22U V
;22V W
}22X Y
reserva33 
.33 
	ClienteId33 
=33 
	idCliente33  )
;33) *
int55 
idHabitacion55 
=55 
utilsReservas55 ,
.55, -
ObtenerIdHabitacion55- @
(55@ A
reserva55A H
.55H I
NumHabitacion55I V
,55V W
reserva55X _
)55_ `
;55` a
if66 
(66 
idHabitacion66 
==66 
$num66  !
)66! "
{66# $
return66% +
Ok66, .
(66. /
new66/ 2
{663 4
message665 <
=66= >
$str66? Y
}66Z [
)66[ \
;66\ ]
}66^ _
reserva77 
.77 
HabitacionId77  
=77! "
idHabitacion77# /
;77/ 0
string99 
mensaje99 
=99 
UtilsReservas99 *
.99* +
ValidarReserva99+ 9
(999 :
reserva99: A
)99A B
;99B C
if:: 
(:: 
mensaje:: 
!=:: 
$str:: 
):: 
{::  
return::! '
Ok::( *
(::* +
new::+ .
{::/ 0
message::1 8
=::9 :
mensaje::; B
}::C D
)::D E
;::E F
}::G H
mensaje<< 
=<< 
utilsReservas<< #
.<<# $ 
ValidarFechasReserva<<$ 8
(<<8 9
reserva<<9 @
)<<@ A
;<<A B
if== 
(== 
mensaje== 
!=== 
$str== 
)== 
{==  
return==! '
Ok==( *
(==* +
new==+ .
{==/ 0
message==1 8
===9 :
mensaje==; B
}==C D
)==D E
;==E F
}==G H
var@@ 

habitacion@@ 
=@@ 
await@@ "
_appDBContext@@# 0
.@@0 1

Habitacion@@1 ;
.@@; <
FirstOrDefaultAsync@@< O
(@@O P
h@@P Q
=>@@R T
h@@U V
.@@V W
Id@@W Y
==@@Z \
reserva@@] d
.@@d e
HabitacionId@@e q
)@@q r
;@@r s
ifAA 
(AA 

habitacionAA 
==AA 
nullAA "
)AA" #
{AA$ %
returnAA& ,
OkAA- /
(AA/ 0
newAA0 3
{AA4 5
messageAA6 =
=AA> ?
$strAA@ Z
}AA[ \
)AA\ ]
;AA] ^
}AA_ `

habitacionBB 
.BB 
EstadoBB 
=BB 
$strBB  +
;BB+ ,
_appDBContextCC 
.CC 
EntryCC 
(CC  

habitacionCC  *
)CC* +
.CC+ ,
StateCC, 1
=CC2 3
EntityStateCC4 ?
.CC? @
ModifiedCC@ H
;CCH I
awaitDD 
_appDBContextDD 
.DD  
SaveChangesAsyncDD  0
(DD0 1
)DD1 2
;DD2 3
_appDBContextFF 
.FF 
ReservaFF !
.FF! "
AddFF" %
(FF% &
reservaFF& -
)FF- .
;FF. /
awaitGG 
_appDBContextGG 
.GG  
SaveChangesAsyncGG  0
(GG0 1
)GG1 2
;GG2 3
returnHH 
OkHH 
(HH 
reservaHH 
)HH 
;HH 
}II 	
[KK 	
HttpPutKK	 
(KK 
$strKK 
)KK 
]KK 
publicLL 
asyncLL 
TaskLL 
<LL 
IActionResultLL '
>LL' (

PutReservaLL) 3
(LL3 4
intLL4 7
idLL8 :
,LL: ;
[LL< =
FromBodyLL= E
]LLE F
ReservaLLG N
reservaLLO V
)LLV W
{MM 	
ifNN 
(NN 
!NN 

ModelStateNN 
.NN 
IsValidNN #
)NN# $
{OO 
varQQ 
erroresQQ 
=QQ 

ModelStateQQ (
.QQ( )
ValuesQQ) /
.RR 

SelectManyRR 
(RR  
vRR  !
=>RR" $
vRR% &
.RR& '
ErrorsRR' -
)RR- .
.SS 
SelectSS 
(SS 
eSS 
=>SS  
eSS! "
.SS" #
ErrorMessageSS# /
)SS/ 0
.TT 
ToListTT 
(TT 
)TT 
;TT 
returnVV 
OkVV 
(VV 
newVV 
{VV 
messageVV  '
=VV( )
$strVV* A
,VVA B
erroresVVC J
}VVK L
)VVL M
;VVM N
}WW 
reservaYY 
.YY 
IdYY 
=YY 
idYY 
;YY 
string[[ 
mensaje[[ 
=[[ 
UtilsReservas[[ *
.[[* +
ValidarReserva[[+ 9
([[9 :
reserva[[: A
)[[A B
;[[B C
if\\ 
(\\ 
mensaje\\ 
!=\\ 
$str\\ 
)\\ 
{\\  
return\\! '
Ok\\( *
(\\* +
new\\+ .
{\\/ 0
message\\1 8
=\\9 :
mensaje\\; B
}\\C D
)\\D E
;\\E F
}\\G H
var__ 

habitacion__ 
=__ 
await__ "
_appDBContext__# 0
.__0 1

Habitacion__1 ;
.__; <
FirstOrDefaultAsync__< O
(__O P
h__P Q
=>__R T
h__U V
.__V W
NumHabitacion__W d
==__e g
reserva__h o
.__o p
NumHabitacion__p }
)__} ~
;__~ 
if`` 
(`` 

habitacion`` 
==`` 
null`` "
)``" #
{``$ %
return``& ,
Ok``- /
(``/ 0
new``0 3
{``4 5
message``6 =
=``> ?
$str``@ Z
}``[ \
)``\ ]
;``] ^
}``_ `
varcc 
clientecc 
=cc 
awaitcc 
_appDBContextcc  -
.cc- .
Clientecc. 5
.cc5 6
FirstOrDefaultAsynccc6 I
(ccI J
cccJ K
=>ccL N
cccO P
.ccP Q
CedulaccQ W
==ccX Z
reservacc[ b
.ccb c
CedulaClienteccc p
)ccp q
;ccq r
ifdd 
(dd 
clientedd 
==dd 
nulldd 
)dd  
{dd! "
returndd$ *
Okdd+ -
(dd- .
newdd. 1
{dd2 3
messagedd4 ;
=dd< =
$strdd> U
}ddV W
)ddW X
;ddX Y
}ddZ [
vargg 
ReservaExistentegg  
=gg! "
awaitgg# (
_appDBContextgg) 6
.gg6 7
Reservagg7 >
.gg> ?
FirstOrDefaultAsyncgg? R
(ggR S
cggS T
=>ggU W
cggX Y
.ggY Z
IdggZ \
==gg] _
idgg` b
)ggb c
;ggc d
ifhh 
(hh 
ReservaExistentehh  
==hh! #
nullhh$ (
)hh( )
{ii 
returnjj 
Okjj 
(jj 
newjj 
{jj 
messagejj  '
=jj( )
$strjj* B
}jjC D
)jjD E
;jjE F
}kk 
ReservaExistentemm 
.mm 
Preciomm #
=mm$ %
reservamm& -
.mm- .
Preciomm. 4
;mm4 5
ReservaExistentenn 
.nn 
NumHabitacionnn *
=nn+ ,
reservann- 4
.nn4 5
NumHabitacionnn5 B
;nnB C
trypp 
{qq 
_appDBContextrr 
.rr 
Entryrr #
(rr# $
ReservaExistenterr$ 4
)rr4 5
.rr5 6
Staterr6 ;
=rr< =
EntityStaterr> I
.rrI J
ModifiedrrJ R
;rrR S
awaitss 
_appDBContextss #
.ss# $
SaveChangesAsyncss$ 4
(ss4 5
)ss5 6
;ss6 7
returntt 
Oktt 
(tt 
newtt 
{tt 
messagett  '
=tt( )
ReservaExistentett* :
}tt; <
)tt< =
;tt= >
}uu 
catchvv 
(vv (
DbUpdateConcurrencyExceptionvv /
)vv/ 0
{ww 
ifxx 
(xx 
!xx 
awaitxx 
_appDBContextxx (
.xx( )
Reservaxx) 0
.xx0 1
AnyAsyncxx1 9
(xx9 :
rxx: ;
=>xx< >
rxx? @
.xx@ A
IdxxA C
==xxD F
idxxG I
)xxI J
)xxJ K
{xxL M
returnxxN T
OkxxU W
(xxW X
newxxX [
{xx\ ]
messagexx^ e
=xxf g
$str	xxh А
}
xxБ В
)
xxВ Г
;
xxГ Д
}
xxЕ Ж
elseyy 
{yy 
returnyy 
Okyy  
(yy  !
newyy! $
{yy% &
messageyy' .
=yy/ 0
$stryy1 T
}yyU V
)yyV W
;yyW X
}yyY Z
}zz 
catch{{ 
({{ 
	Exception{{ 
){{ 
{|| 
return}} 

StatusCode}} !
(}}! "
StatusCodes}}" -
.}}- .(
Status500InternalServerError}}. J
,}}J K
new}}L O
{}}P Q
message}}R Y
=}}Z [
$str}}\ 
}
}}А Б
)
}}Б В
;
}}В Г
}~~ 
} 	
[
ББ 	

HttpDelete
ББ	 
(
ББ 
$str
ББ 
)
ББ 
]
ББ 
public
ВВ 
async
ВВ 
Task
ВВ 
<
ВВ 
IActionResult
ВВ '
>
ВВ' (
DeleteReserva
ВВ) 6
(
ВВ6 7
int
ВВ7 :
id
ВВ; =
)
ВВ= >
{
ГГ 	
try
ДД 
{
ЕЕ 
var
ЖЖ 
reserva
ЖЖ 
=
ЖЖ 
await
ЖЖ #
_appDBContext
ЖЖ$ 1
.
ЖЖ1 2
Reserva
ЖЖ2 9
.
ЖЖ9 :
	FindAsync
ЖЖ: C
(
ЖЖC D
id
ЖЖD F
)
ЖЖF G
;
ЖЖG H
if
ЗЗ 
(
ЗЗ 
reserva
ЗЗ 
==
ЗЗ 
null
ЗЗ #
)
ЗЗ# $
{
ИИ 
return
ЙЙ 
NotFound
ЙЙ #
(
ЙЙ# $
new
ЙЙ$ '
{
ЙЙ( )
message
ЙЙ* 1
=
ЙЙ2 3
$str
ЙЙ4 L
}
ЙЙM N
)
ЙЙN O
;
ЙЙO P
}
КК 
var
НН 

habitacion
НН 
=
НН  
await
НН! &
_appDBContext
НН' 4
.
НН4 5

Habitacion
НН5 ?
.
НН? @!
FirstOrDefaultAsync
НН@ S
(
ННS T
h
ННT U
=>
ННV X
h
ННY Z
.
ННZ [
Id
НН[ ]
==
НН^ `
reserva
ННa h
.
ННh i
HabitacionId
ННi u
)
ННu v
;
ННv w
if
ОО 
(
ОО 

habitacion
ОО 
==
ОО !
null
ОО" &
)
ОО& '
{
ПП 
return
РР 
Ok
РР 
(
РР 
new
РР !
{
РР" #
message
РР$ +
=
РР, -
$str
РР. H
}
РРI J
)
РРJ K
;
РРK L
}
СС 

habitacion
ТТ 
.
ТТ 
Estado
ТТ !
=
ТТ" #
$str
ТТ$ 0
;
ТТ0 1
_appDBContext
УУ 
.
УУ 
Entry
УУ #
(
УУ# $

habitacion
УУ$ .
)
УУ. /
.
УУ/ 0
State
УУ0 5
=
УУ6 7
EntityState
УУ8 C
.
УУC D
Modified
УУD L
;
УУL M
await
ФФ 
_appDBContext
ФФ #
.
ФФ# $
SaveChangesAsync
ФФ$ 4
(
ФФ4 5
)
ФФ5 6
;
ФФ6 7
var
ЧЧ 
	servicios
ЧЧ 
=
ЧЧ 
await
ЧЧ  %
_appDBContext
ЧЧ& 3
.
ЧЧ3 4"
ServiciosAdicionales
ЧЧ4 H
.
ЧЧH I
Where
ЧЧI N
(
ЧЧN O
s
ЧЧO P
=>
ЧЧQ S
s
ЧЧT U
.
ЧЧU V
	ReservaId
ЧЧV _
==
ЧЧ` b
id
ЧЧc e
)
ЧЧe f
.
ЧЧf g
ToListAsync
ЧЧg r
(
ЧЧr s
)
ЧЧs t
;
ЧЧt u
if
ШШ 
(
ШШ 
	servicios
ШШ 
.
ШШ 
Count
ШШ #
>
ШШ$ %
$num
ШШ& '
)
ШШ' (
{
ЩЩ 
return
ЪЪ 
Ok
ЪЪ 
(
ЪЪ 
new
ЪЪ !
{
ЪЪ" #
message
ЪЪ$ +
=
ЪЪ, -
$str
ЪЪ. s
}
ЪЪt u
)
ЪЪu v
;
ЪЪv w
}
ЫЫ 
_appDBContext
ЭЭ 
.
ЭЭ 
Reserva
ЭЭ %
.
ЭЭ% &
Remove
ЭЭ& ,
(
ЭЭ, -
reserva
ЭЭ- 4
)
ЭЭ4 5
;
ЭЭ5 6
await
ЮЮ 
_appDBContext
ЮЮ #
.
ЮЮ# $
SaveChangesAsync
ЮЮ$ 4
(
ЮЮ4 5
)
ЮЮ5 6
;
ЮЮ6 7
return
ЯЯ 
Ok
ЯЯ 
(
ЯЯ 
new
ЯЯ 
{
ЯЯ 
message
ЯЯ  '
=
ЯЯ( )
$str
ЯЯ* K
,
ЯЯK L
reserva
ЯЯM T
}
ЯЯU V
)
ЯЯV W
;
ЯЯW X
}
°° 
catch
ҐҐ 
(
ҐҐ 
	Exception
ҐҐ 
)
ҐҐ 
{
££ 
return
§§ 

StatusCode
§§ !
(
§§! "
StatusCodes
§§" -
.
§§- .*
Status500InternalServerError
§§. J
,
§§J K
new
§§L O
{
§§P Q
message
§§R Y
=
§§Z [
$str
§§\ |
}
§§} ~
)
§§~ 
;§§ А
}
•• 
}
¶¶ 	
}
ІІ 
public
©© 

class
©© 
UtilsReservas
©© 
{
™™ 
private
ЂЂ 
readonly
ЂЂ 
AppDBContext
ЂЂ %
_appDBContext
ЂЂ& 3
;
ЂЂ3 4
public
ђђ 
UtilsReservas
ђђ 
(
ђђ 
AppDBContext
ђђ )
appDBContext
ђђ* 6
)
ђђ6 7
{
≠≠ 	
_appDBContext
ЃЃ 
=
ЃЃ 
appDBContext
ЃЃ (
;
ЃЃ( )
}
ѓѓ 	
public
≤≤ 
static
≤≤ 
string
≤≤ 
ValidarReserva
≤≤ +
(
≤≤+ ,
Reserva
≤≤, 3
reserva
≤≤4 ;
)
≤≤; <
{
≥≥ 	
string
іі 
mensaje
іі 
=
іі !
ValidarIngresoDatos
іі 0
(
іі0 1
reserva
іі1 8
)
іі8 9
;
іі9 :
if
µµ 
(
µµ 
mensaje
µµ 
!=
µµ 
$str
µµ 
)
µµ 
{
µµ  
return
µµ! '
mensaje
µµ( /
;
µµ/ 0
}
µµ1 2
mensaje
ЈЈ 
=
ЈЈ "
ValidarIngresoFechas
ЈЈ *
(
ЈЈ* +
reserva
ЈЈ+ 2
)
ЈЈ2 3
;
ЈЈ3 4
if
ЄЄ 
(
ЄЄ 
mensaje
ЄЄ 
!=
ЄЄ 
$str
ЄЄ 
)
ЄЄ 
{
ЄЄ  
return
ЄЄ! '
mensaje
ЄЄ( /
;
ЄЄ/ 0
}
ЄЄ1 2
if
її 
(
її 
reserva
її 
.
її 
Entrada
її 
>=
її  "
reserva
її# *
.
її* +
Salida
її+ 1
)
її1 2
{
ЉЉ 
return
љљ 
$str
љљ Q
;
љљQ R
}
ЊЊ 
if
ЅЅ 
(
ЅЅ 
reserva
ЅЅ 
.
ЅЅ 
Precio
ЅЅ 
>
ЅЅ  
$num
ЅЅ! &
)
ЅЅ& '
{
¬¬ 
return
√√ 
$str
√√ >
;
√√> ?
}
ƒƒ 
return
∆∆ 
$str
∆∆ 
;
∆∆ 
}
«« 	
public
…… 
static
…… 
string
…… !
ValidarIngresoDatos
…… 0
(
……0 1
Reserva
……1 8
reserva
……9 @
)
……@ A
{
   	
if
ЋЋ 
(
ЋЋ 
reserva
ЋЋ 
.
ЋЋ 
Entrada
ЋЋ 
==
ЋЋ  "
null
ЋЋ# '
)
ЋЋ' (
{
ћћ 
return
ЌЌ 
$str
ЌЌ :
;
ЌЌ: ;
}
ќќ 
if
ѕѕ 
(
ѕѕ 
reserva
ѕѕ 
.
ѕѕ 
Salida
ѕѕ 
==
ѕѕ !
null
ѕѕ" &
)
ѕѕ& '
{
–– 
return
—— 
$str
—— 9
;
——9 :
}
““ 
if
”” 
(
”” 
reserva
”” 
.
”” 
Precio
”” 
==
”” !
$num
””" #
)
””# $
{
‘‘ 
return
’’ 
$str
’’ 0
;
’’0 1
}
÷÷ 
else
„„ 
if
„„ 
(
„„ 
reserva
„„ 
.
„„ 
Precio
„„ #
<
„„$ %
$num
„„& '
)
„„' (
{
ЎЎ 
return
ўў 
$str
ўў 9
;
ўў9 :
}
ЏЏ 
return
џџ 
$str
џџ 
;
џџ 
}
№№ 	
public
ёё 
int
ёё 
ObtenerIdCliente
ёё #
(
ёё# $
string
ёё$ *
cedula
ёё+ 1
,
ёё1 2
Reserva
ёё3 :
reserva
ёё; B
)
ёёB C
{
яя 	
var
аа 
cliente
аа 
=
аа 
_appDBContext
аа '
.
аа' (
Cliente
аа( /
.
аа/ 0
FirstOrDefault
аа0 >
(
аа> ?
c
аа? @
=>
ааA C
c
ааD E
.
ааE F
Cedula
ааF L
==
ааM O
reserva
ааP W
.
ааW X
CedulaCliente
ааX e
)
ааe f
;
ааf g
if
бб 
(
бб 
cliente
бб 
==
бб 
null
бб 
)
бб  
{
вв 
return
гг 
$num
гг 
;
гг 
}
дд 
return
ее 
cliente
ее 
.
ее 
Id
ее 
;
ее 
}
жж 	
public
ии 
int
ии !
ObtenerIdHabitacion
ии &
(
ии& '
string
ии' -
numHabitacion
ии. ;
,
ии; <
Reserva
ии= D
reserva
ииE L
)
ииL M
{
йй 	
var
кк 

habitacion
кк 
=
кк 
_appDBContext
кк *
.
кк* +

Habitacion
кк+ 5
.
кк5 6
FirstOrDefault
кк6 D
(
ккD E
h
ккE F
=>
ккG I
h
ккJ K
.
ккK L
NumHabitacion
ккL Y
==
ккZ \
reserva
кк] d
.
ккd e
NumHabitacion
ккe r
)
ккr s
;
ккs t
if
лл 
(
лл 

habitacion
лл 
==
лл 
null
лл "
)
лл" #
{
мм 
return
нн 
$num
нн 
;
нн 
}
оо 
return
пп 

habitacion
пп 
.
пп 
Id
пп  
;
пп  !
}
рр 	
public
тт 
string
тт "
ValidarFechasReserva
тт *
(
тт* +
Reserva
тт+ 2
reserva
тт3 :
)
тт: ;
{
уу 	
var
хх 
reservas
хх 
=
хх 
_appDBContext
хх (
.
хх( )
Reserva
хх) 0
.
хх0 1
Where
хх1 6
(
хх6 7
r
хх7 8
=>
хх9 ;
r
хх< =
.
хх= >
HabitacionId
хх> J
==
ххK M
reserva
ххN U
.
ххU V
HabitacionId
ххV b
)
ххb c
.
ххc d
ToList
ххd j
(
ххj k
)
ххk l
;
ххl m
if
цц 
(
цц 
reservas
цц 
.
цц 
Count
цц 
==
цц !
$num
цц" #
)
цц# $
{
чч 
return
шш 
$str
шш 
;
шш 
}
щщ 
var
ъъ 
habitaciones
ъъ 
=
ъъ 
_appDBContext
ъъ ,
.
ъъ, -

Habitacion
ъъ- 7
.
ъъ7 8
Where
ъъ8 =
(
ъъ= >
r
ъъ> ?
=>
ъъ@ B
r
ъъC D
.
ъъD E
Estado
ъъE K
==
ъъL N
$str
ъъO [
)
ъъ[ \
.
ъъ\ ]
ToList
ъъ] c
(
ъъc d
)
ъъd e
;
ъъe f
string
ыы %
habitacionesDisponibles
ыы *
=
ыы+ ,
$str
ыы- /
;
ыы/ 0
if
ьь 
(
ьь 
habitaciones
ьь 
.
ьь 
Count
ьь "
==
ьь# %
$num
ьь& '
)
ьь' (
{
ээ %
habitacionesDisponibles
юю '
=
юю( )
$str
юю* K
;
ююK L
}
€€ 
else
АА 
{
ББ 
var
ВВ 
sb
ВВ 
=
ВВ 
new
ВВ 
StringBuilder
ВВ *
(
ВВ* +
)
ВВ+ ,
;
ВВ, -
sb
ГГ 
.
ГГ 
Append
ГГ 
(
ГГ 
$str
ГГ M
)
ГГM N
;
ГГN O
foreach
ЕЕ 
(
ЕЕ 
var
ЕЕ 
h
ЕЕ 
in
ЕЕ !
habitaciones
ЕЕ" .
)
ЕЕ. /
{
ЖЖ 
sb
ЗЗ 
.
ЗЗ 
Append
ЗЗ 
(
ЗЗ 
$str
ЗЗ #
)
ЗЗ# $
.
ЗЗ$ %
Append
ЗЗ% +
(
ЗЗ+ ,
h
ЗЗ, -
.
ЗЗ- .
NumHabitacion
ЗЗ. ;
)
ЗЗ; <
;
ЗЗ< =
}
ИИ %
habitacionesDisponibles
КК '
=
КК( )
sb
КК* ,
.
КК, -
ToString
КК- 5
(
КК5 6
)
КК6 7
;
КК7 8
}
ЛЛ 
foreach
НН 
(
НН 
var
НН 
r
НН 
in
НН 
reservas
НН &
)
НН& '
{
ОО 
if
ПП 
(
ПП 
reserva
ПП 
.
ПП 
Entrada
ПП #
>=
ПП$ &
r
ПП' (
.
ПП( )
Entrada
ПП) 0
&&
ПП1 3
reserva
ПП4 ;
.
ПП; <
Entrada
ПП< C
<=
ППD F
r
ППG H
.
ППH I
Salida
ППI O
)
ППO P
{
РР 
return
СС 
$str
СС T
+
ССU V%
habitacionesDisponibles
ССW n
;
ССn o
}
ТТ 
if
УУ 
(
УУ 
reserva
УУ 
.
УУ 
Salida
УУ "
>=
УУ# %
r
УУ& '
.
УУ' (
Entrada
УУ( /
&&
УУ0 2
reserva
УУ3 :
.
УУ: ;
Salida
УУ; A
<=
УУB D
r
УУE F
.
УУF G
Salida
УУG M
)
УУM N
{
ФФ 
return
ХХ 
$str
ХХ S
+
ХХT U%
habitacionesDisponibles
ХХV m
;
ХХm n
}
ЦЦ 
}
ЧЧ 
return
ЩЩ 
$str
ЩЩ 
;
ЩЩ 
}
ЪЪ 	
public
ЬЬ 
static
ЬЬ 
string
ЬЬ "
ValidarIngresoFechas
ЬЬ 1
(
ЬЬ1 2
Reserva
ЬЬ2 9
reserva
ЬЬ: A
)
ЬЬA B
{
ЭЭ 	
string
ЮЮ 
formatoEsperado
ЮЮ "
=
ЮЮ# $
$str
ЮЮ% ?
;
ЮЮ? @
if
†† 
(
†† 
!
†† 
DateTime
†† 
.
†† 
TryParseExact
†† '
(
††' (
reserva
°° 
.
°° 
Entrada
°° #
?
°°# $
.
°°$ %
ToString
°°% -
(
°°- .
formatoEsperado
°°. =
)
°°= >
,
°°> ?
formatoEsperado
ҐҐ #
,
ҐҐ# $
CultureInfo
££ 
.
££  
InvariantCulture
££  0
,
££0 1
DateTimeStyles
§§ "
.
§§" #
AssumeUniversal
§§# 2
,
§§2 3
out
•• 
DateTime
••  
fechaInicio
••! ,
)
••, -
)
••- .
{
¶¶ 
Console
ІІ 
.
ІІ 
	WriteLine
ІІ !
(
ІІ! "
fechaInicio
ІІ" -
)
ІІ- .
;
ІІ. /
return
®® 
$str
®® j
;
®®j k
}
©© 
if
ЂЂ 
(
ЂЂ 
!
ЂЂ 
DateTime
ЂЂ 
.
ЂЂ 
TryParseExact
ЂЂ '
(
ЂЂ' (
reserva
ђђ 
.
ђђ 
Salida
ђђ "
?
ђђ" #
.
ђђ# $
ToString
ђђ$ ,
(
ђђ, -
formatoEsperado
ђђ- <
)
ђђ< =
,
ђђ= >
formatoEsperado
≠≠ #
,
≠≠# $
CultureInfo
ЃЃ 
.
ЃЃ  
InvariantCulture
ЃЃ  0
,
ЃЃ0 1
DateTimeStyles
ѓѓ "
.
ѓѓ" #
AssumeUniversal
ѓѓ# 2
,
ѓѓ2 3
out
∞∞ 
DateTime
∞∞  
fechaFin
∞∞! )
)
∞∞) *
)
∞∞* +
{
±± 
Console
≤≤ 
.
≤≤ 
	WriteLine
≤≤ !
(
≤≤! "
fechaFin
≤≤" *
)
≤≤* +
;
≤≤+ ,
return
≥≥ 
$str
≥≥ i
;
≥≥i j
}
іі 
return
µµ 
$str
µµ 
;
µµ 
}
ґґ 	
}
ЈЈ 
}ЄЄ хМ
hC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Controllers\HabitacionController.cs
	namespace 	
Prueba2Hotel
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public		 

class		  
HabitacionController		 %
:		& '
ControllerBase		( 6
{

 
private 
readonly 
AppDBContext %
_appDBContext& 3
;3 4
public  
HabitacionController #
(# $
AppDBContext$ 0
appDBContext1 =
)= >
{ 	
_appDBContext 
= 
appDBContext (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetHabitaciones) 8
(8 9
)9 :
{ 	
return 
Ok 
( 
await 
_appDBContext )
.) *

Habitacion* 4
.4 5
Select5 ;
(; <
r< =
=>> @
newA D
{E F
rG H
.H I
IdI K
,K L
rM N
.N O
NumHabitacionO \
,\ ]
r^ _
._ `
Tipo` d
,d e
rf g
.g h
NumMaximoPersonash y
,y z
r{ |
.| }
Descripcion	} И
,
И Й
r
К Л
.
Л М
Estado
М Т
}
Т У
)
У Ф
.
Ф Х
ToListAsync
Х †
(
† °
)
° Ґ
)
Ґ £
;
£ §
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
PostHabitacion) 7
(7 8

Habitacion8 B

habitacionC M
)M N
{ 	
if 
( 
! 

ModelState 
. 
IsValid #
)# $
{ 
var 
errores 
= 

ModelState (
.( )
Values) /
.   

SelectMany   
(    
v    !
=>  " $
v  % &
.  & '
Errors  ' -
)  - .
.!! 
Select!! 
(!! 
e!! 
=>!!  
e!!! "
.!!" #
ErrorMessage!!# /
)!!/ 0
."" 
ToList"" 
("" 
)"" 
;"" 
return$$ 
Ok$$ 
($$ 
new$$ 
{$$ 
message$$  '
=$$( )
$str$$* A
,$$A B
errores$$C J
}$$K L
)$$L M
;$$M N
}%% 
string'' 
mensaje'' 
='' 
UtilsHabitacion'' ,
.'', -
ValidarHabitacion''- >
(''> ?

habitacion''? I
)''I J
;''J K
if)) 
()) 
mensaje)) 
!=)) 
$str)) 
))) 
{** 
return++ 
Ok++ 
(++ 
new++ 
{++ 
message++  '
=++( )
mensaje++* 1
}++2 3
)++3 4
;++4 5
},, 

habitacion.. 
... 
Estado.. 
=.. 
$str..  ,
;.., -
_appDBContext00 
.00 

Habitacion00 $
.00$ %
Add00% (
(00( )

habitacion00) 3
)003 4
;004 5
await11 
_appDBContext11 
.11  
SaveChangesAsync11  0
(110 1
)111 2
;112 3
return22 
Ok22 
(22 

habitacion22  
)22  !
;22! "
}33 	
[55 	
HttpPut55	 
(55 
$str55 "
)55" #
]55# $
public66 
async66 
Task66 
<66 
IActionResult66 '
>66' (
PutHabitacion66) 6
(666 7
string667 =
NumHabitacion66> K
,66K L

Habitacion66M W

habitacion66X b
)66b c
{77 	
if88 
(88 
!88 

ModelState88 
.88 
IsValid88 #
)88# $
{99 
var;; 
errores;; 
=;; 

ModelState;; (
.;;( )
Values;;) /
.<< 

SelectMany<< 
(<<  
v<<  !
=><<" $
v<<% &
.<<& '
Errors<<' -
)<<- .
.== 
Select== 
(== 
e== 
=>==  
e==! "
.==" #
ErrorMessage==# /
)==/ 0
.>> 
ToList>> 
(>> 
)>> 
;>> 
return@@ 
Ok@@ 
(@@ 
new@@ 
{@@ 
message@@  '
=@@( )
$str@@* A
,@@A B
errores@@C J
}@@K L
)@@L M
;@@M N
}AA 
ifCC 
(CC 
NumHabitacionCC 
!=CC  

habitacionCC! +
.CC+ ,
NumHabitacionCC, 9
)CC9 :
{DD 
returnEE 
OkEE 
(EE 
newEE 
{EE 
messageEE  '
=EE( )
$strEE* S
}EET U
)EEU V
;EEV W
}FF 
stringHH 
mensajeHH 
=HH 
UtilsHabitacionHH ,
.HH, -
ValidarHabitacionHH- >
(HH> ?

habitacionHH? I
)HHI J
;HHJ K
ifII 
(II 
!II 
stringII 
.II 
IsNullOrEmptyII %
(II% &
mensajeII& -
)II- .
)II. /
{JJ 
returnKK 
OkKK 
(KK 
newKK 
{KK 
messageKK  '
=KK( )
mensajeKK* 1
}KK2 3
)KK3 4
;KK4 5
}LL 
varNN 
habitacionExistenteNN #
=NN$ %
awaitNN& +
_appDBContextNN, 9
.NN9 :

HabitacionNN: D
.NND E
FirstOrDefaultAsyncNNE X
(NNX Y
hNNY Z
=>NN[ ]
hNN^ _
.NN_ `
NumHabitacionNN` m
==NNn p
NumHabitacionNNq ~
)NN~ 
;	NN А
ifOO 
(OO 
habitacionExistenteOO #
==OO$ &
nullOO' +
)OO+ ,
{PP 
returnQQ 
OkQQ 
(QQ 
newQQ 
{QQ 
messageQQ  '
=QQ( )
$strQQ* E
}QQF G
)QQG H
;QQH I
}RR 
habitacionExistenteTT 
.TT  
TipoTT  $
=TT% &

habitacionTT' 1
.TT1 2
TipoTT2 6
;TT6 7
habitacionExistenteUU 
.UU  
NumMaximoPersonasUU  1
=UU2 3

habitacionUU4 >
.UU> ?
NumMaximoPersonasUU? P
;UUP Q
habitacionExistenteVV 
.VV  
DescripcionVV  +
=VV, -

habitacionVV. 8
.VV8 9
DescripcionVV9 D
;VVD E
tryXX 
{YY 
_appDBContextZZ 
.ZZ 

HabitacionZZ (
.ZZ( )
UpdateZZ) /
(ZZ/ 0
habitacionExistenteZZ0 C
)ZZC D
;ZZD E
await[[ 
_appDBContext[[ #
.[[# $
SaveChangesAsync[[$ 4
([[4 5
)[[5 6
;[[6 7
return\\ 
Ok\\ 
(\\ 
new\\ 
{\\ 
message\\  '
=\\( )
$str\\* P
}\\Q R
)\\R S
;\\S T
}]] 
catch^^ 
(^^ (
DbUpdateConcurrencyException^^ /
ex^^0 2
)^^2 3
{__ 
return`` 
Ok`` 
(`` 
new`` 
{`` 
message``  '
=``( )
$str``* O
+``P Q
ex``R T
.``T U
Message``U \
}``] ^
)``^ _
;``_ `
}aa 
catchbb 
(bb 
	Exceptionbb 
exbb 
)bb  
{cc 
returndd 

StatusCodedd !
(dd! "
StatusCodesdd" -
.dd- .(
Status500InternalServerErrordd. J
,ddJ K
newddL O
{ddP Q
messageddR Y
=ddZ [
exdd\ ^
.dd^ _
Messagedd_ f
}ddg h
)ddh i
;ddi j
}ee 
}ff 	
[hh 	

HttpDeletehh	 
(hh 
$strhh %
)hh% &
]hh& '
publicii 
asyncii 
Taskii 
<ii 
IActionResultii '
>ii' (
DeleteHabitacionii) 9
(ii9 :
stringii: @
NumHabitacioniiA N
)iiN O
{jj 	
trykk 
{ll 
varnn 

habitacionnn 
=nn  
awaitnn! &
_appDBContextnn' 4
.nn4 5

Habitacionnn5 ?
.nn? @
FirstOrDefaultAsyncnn@ S
(nnS T
hnnT U
=>nnV X
hnnY Z
.nnZ [
NumHabitacionnn[ h
==nni k
NumHabitacionnnl y
)nny z
;nnz {
ifoo 
(oo 

habitacionoo 
==oo !
nulloo" &
)oo& '
{pp 
returnqq 
Okqq 
(qq 
newqq !
{qq" #
messageqq$ +
=qq, -
$strqq. I
}qqJ K
)qqK L
;qqL M
}rr 
vartt 
idtt 
=tt 

habitaciontt #
.tt# $
Idtt$ &
;tt& '
varww 
reservasww 
=ww 
awaitww $
_appDBContextww% 2
.ww2 3
Reservaww3 :
.ww: ;
Whereww; @
(ww@ A
rwwA B
=>wwC E
rwwF G
.wwG H
HabitacionIdwwH T
==wwU W
idwwX Z
)wwZ [
.ww[ \
ToListAsyncww\ g
(wwg h
)wwh i
;wwi j
stringzz 
nuevaHabitacionzz &
=zz' (
$strzz) +
;zz+ ,
foreach{{ 
({{ 
var{{ 
reserva{{ $
in{{% '
reservas{{( 0
){{0 1
{|| 
var}}  
habitacionDisponible}} ,
=}}- .
await}}/ 4
_appDBContext}}5 B
.}}B C

Habitacion}}C M
.}}M N
FirstOrDefaultAsync}}N a
(}}a b
h}}b c
=>}}d f
h}}g h
.}}h i
Estado}}i o
==}}p r
$str}}s 
)	}} А
;
}}А Б
if~~ 
(~~  
habitacionDisponible~~ ,
!=~~- /
null~~0 4
)~~4 5
{ 
reserva
АА 
.
АА  
HabitacionId
АА  ,
=
АА- ."
habitacionDisponible
АА/ C
.
ААC D
Id
ААD F
;
ААF G
reserva
ББ 
.
ББ  
NumHabitacion
ББ  -
=
ББ. /"
habitacionDisponible
ББ0 D
.
ББD E
NumHabitacion
ББE R
;
ББR S
_appDBContext
ВВ %
.
ВВ% &
Entry
ВВ& +
(
ВВ+ ,
reserva
ВВ, 3
)
ВВ3 4
.
ВВ4 5
State
ВВ5 :
=
ВВ; <
EntityState
ВВ= H
.
ВВH I
Modified
ВВI Q
;
ВВQ R
nuevaHabitacion
ГГ '
=
ГГ( )"
habitacionDisponible
ГГ* >
.
ГГ> ?
NumHabitacion
ГГ? L
;
ГГL M
}
ДД 
else
ЕЕ 
{
ЖЖ 
return
ЗЗ 

BadRequest
ЗЗ )
(
ЗЗ) *
new
ЗЗ* -
{
ЗЗ. /
message
ЗЗ0 7
=
ЗЗ8 9
$strЗЗ: Ы
}ЗЗЬ Э
)ЗЗЭ Ю
;ЗЗЮ Я
}
ИИ 
}
ЙЙ 
_appDBContext
ЛЛ 
.
ЛЛ 

Habitacion
ЛЛ (
.
ЛЛ( )
Remove
ЛЛ) /
(
ЛЛ/ 0

habitacion
ЛЛ0 :
)
ЛЛ: ;
;
ЛЛ; <
await
ММ 
_appDBContext
ММ #
.
ММ# $
SaveChangesAsync
ММ$ 4
(
ММ4 5
)
ММ5 6
;
ММ6 7
return
НН 
Ok
НН 
(
НН 
new
НН 
{
НН 
message
НН  '
=
НН( )
$str
НН* n
+
ННo p
nuevaHabitacionННq А
,ННА Б

habitacionННВ М
}ННН О
)ННО П
;ННП Р
}
ОО 
catch
ПП 
(
ПП 
	Exception
ПП 
ex
ПП 
)
ПП  
{
РР 
return
СС 

StatusCode
СС !
(
СС! "
StatusCodes
СС" -
.
СС- .*
Status500InternalServerError
СС. J
,
ССJ K
new
ССL O
{
ССP Q
message
ССR Y
=
ССZ [
ex
СС\ ^
.
СС^ _
Message
СС_ f
}
ССg h
)
ССh i
;
ССi j
}
ТТ 
}
УУ 	
}
ФФ 
public
ЦЦ 

static
ЦЦ 
class
ЦЦ 
UtilsHabitacion
ЦЦ '
{
ЧЧ 
public
ШШ 
static
ШШ 
string
ШШ 
ValidarHabitacion
ШШ .
(
ШШ. /

Habitacion
ШШ/ 9

habitacion
ШШ: D
)
ШШD E
{
ЩЩ 	
string
ЪЪ 
mensaje
ЪЪ 
=
ЪЪ 
$str
ЪЪ 
;
ЪЪ  
if
ЬЬ 
(
ЬЬ 

habitacion
ЬЬ 
.
ЬЬ 
NumHabitacion
ЬЬ (
==
ЬЬ) +
null
ЬЬ, 0
)
ЬЬ0 1
{
ЭЭ 
return
ЮЮ 
$str
ЮЮ >
;
ЮЮ> ?
}
ЯЯ 
if
°° 
(
°° 
!
°° 
int
°° 
.
°° 
TryParse
°° 
(
°° 

habitacion
°° (
.
°°( )
NumMaximoPersonas
°°) :
.
°°: ;
ToString
°°; C
(
°°C D
)
°°D E
,
°°E F
out
°°G J
int
°°K N
numMaximoPersonas
°°O `
)
°°` a
)
°°a b
{
ҐҐ 
Console
££ 
.
££ 
	WriteLine
££ !
(
££! "
numMaximoPersonas
££" 3
)
££3 4
;
££4 5
return
§§ 
$str
§§ ~
;
§§~ 
}
•• 
else
¶¶ 
if
¶¶ 
(
¶¶ 

habitacion
¶¶ 
.
¶¶  
NumMaximoPersonas
¶¶  1
==
¶¶2 4
$num
¶¶5 6
)
¶¶6 7
{
ІІ 
return
®® 
$str
®® C
;
®®C D
}
©© 
if
™™ 
(
™™ 

habitacion
™™ 
.
™™ 
Descripcion
™™ &
==
™™' )
null
™™* .
)
™™. /
{
ЂЂ 
return
ђђ 
$str
ђђ 5
;
ђђ5 6
}
≠≠ 
if
ЃЃ 
(
ЃЃ 

habitacion
ЃЃ 
.
ЃЃ 
Tipo
ЃЃ 
==
ЃЃ  "
null
ЃЃ# '
)
ЃЃ' (
{
ѓѓ 
return
∞∞ 
$str
∞∞ <
;
∞∞< =
}
±± 
if
іі 
(
іі 

habitacion
іі 
.
іі 
NumMaximoPersonas
іі ,
>
іі- .
$num
іі/ 0
||
іі1 3

habitacion
іі4 >
.
іі> ?
NumMaximoPersonas
іі? P
<
ііQ R
$num
ііS T
)
ііU V
{
µµ 
return
ґґ 
$str
ґґ Y
;
ґґY Z
}
ЈЈ 
if
ЇЇ 
(
ЇЇ 
!
ЇЇ 
long
ЇЇ 
.
ЇЇ 
TryParse
ЇЇ 
(
ЇЇ 

habitacion
ЇЇ )
.
ЇЇ) *
NumHabitacion
ЇЇ* 7
,
ЇЇ7 8
out
ЇЇ9 <
long
ЇЇ= A
result
ЇЇB H
)
ЇЇH I
)
ЇЇI J
{
її 
Console
ЉЉ 
.
ЉЉ 
	WriteLine
ЉЉ !
(
ЉЉ! "
result
ЉЉ" (
)
ЉЉ( )
;
ЉЉ) *
return
љљ 
(
љљ 
$str
љљ N
)
љљN O
;
љљO P
}
ЊЊ 
else
њњ 
if
њњ 
(
њњ 

habitacion
њњ 
.
њњ  
NumHabitacion
њњ  -
.
њњ- .
Length
њњ. 4
>
њњ5 6
$num
њњ7 8
)
њњ8 9
{
јј 
return
ЅЅ 
$str
ЅЅ P
;
ЅЅP Q
}
¬¬ 
else
ƒƒ 
if
ƒƒ 
(
ƒƒ 

habitacion
ƒƒ 
.
ƒƒ  
Descripcion
ƒƒ  +
.
ƒƒ+ ,
Length
ƒƒ, 2
>
ƒƒ3 4
$num
ƒƒ5 8
)
ƒƒ8 9
{
≈≈ 
return
∆∆ 
$str
∆∆ M
;
∆∆M N
}
«« 
else
»» 
if
»» 
(
»» 

habitacion
»» 
.
»»  
Tipo
»»  $
.
»»$ %
Length
»»% +
>
»», -
$num
»». 1
)
»»1 2
{
…… 
return
   
$str
   T
;
  T U
}
ЋЋ 
if
ќќ 
(
ќќ 

habitacion
ќќ 
.
ќќ 
Tipo
ќќ 
!=
ќќ  "
$str
ќќ# ,
&&
ќќ- /

habitacion
ќќ0 :
.
ќќ: ;
Tipo
ќќ; ?
!=
ќќ@ B
$str
ќќC M
&&
ќќN P

habitacion
ќќQ [
.
ќќ[ \
Tipo
ќќ\ `
!=
ќќa c
$str
ќќd o
)
ќќo p
{
ѕѕ 
return
–– 
$str
–– V
;
––V W
}
—— 
return
”” 
mensaje
”” 
;
”” 
}
‘‘ 	
}
÷÷ 
}„„ У±
eC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\Controllers\ClienteController.cs
	namespace 	
Prueba2Hotel
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
ClienteController

 "
:

# $
ControllerBase

% 3
{ 
private 
readonly 
AppDBContext %
_appDBContext& 3
;3 4
public 
ClienteController  
(  !
AppDBContext! -
appDBContext. :
): ;
{ 	
_appDBContext 
= 
appDBContext (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetClientes) 4
(4 5
)5 6
{ 	
return 
Ok 
( 
await 
_appDBContext )
.) *
Cliente* 1
.1 2
ToListAsync2 =
(= >
)> ?
)? @
;@ A
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
PostCliente) 4
(4 5
Cliente5 <
cliente= D
)D E
{ 	
if 
( 
! 

ModelState 
. 
IsValid #
)# $
{ 
var   
errores   
=   

ModelState   (
.  ( )
Values  ) /
.!! 

SelectMany!! 
(!!  
v!!  !
=>!!" $
v!!% &
.!!& '
Errors!!' -
)!!- .
."" 
Select"" 
("" 
e"" 
=>""  
e""! "
.""" #
ErrorMessage""# /
)""/ 0
.## 
ToList## 
(## 
)## 
;## 
return%% 
Ok%% 
(%% 
new%% 
{%% 
message%%  '
=%%( )
$str%%* A
,%%A B
errores%%C J
}%%K L
)%%L M
;%%M N
}&& 
string(( 
mensaje(( 
=(( 
UtilsCliente(( )
.(() *"
ValidacionDatosCliente((* @
(((@ A
cliente((A H
)((H I
;((I J
if** 
(** 
mensaje** 
!=** 
$str** 
)** 
{++ 
return,, 
Ok,, 
(,, 
new,, 
{,, 
message,,  '
=,,( )
mensaje,,* 1
},,2 3
),,3 4
;,,4 5
}-- 
if// 
(// 
await// 
_appDBContext// #
.//# $
Cliente//$ +
.//+ ,
AnyAsync//, 4
(//4 5
c//5 6
=>//7 9
c//: ;
.//; <
Cedula//< B
==//C E
cliente//F M
.//M N
Cedula//N T
)//T U
)//U V
{00 
return11 
Ok11 
(11 
new11 
{11 
message11  '
=11( )
$str11* P
}11Q R
)11R S
;11S T
}22 
if33 
(33 
await33 
_appDBContext33 #
.33# $
Cliente33$ +
.33+ ,
AnyAsync33, 4
(334 5
c335 6
=>337 9
c33: ;
.33; <
Telefono33< D
==33E G
cliente33H O
.33O P
Telefono33P X
)33X Y
)33Y Z
{44 
return55 
Ok55 
(55 
new55 
{55 
message55  '
=55( )
$str55* R
}55S T
)55T U
;55U V
}66 
_appDBContext88 
.88 
Cliente88 !
.88! "
Add88" %
(88% &
cliente88& -
)88- .
;88. /
await99 
_appDBContext99 
.99  
SaveChangesAsync99  0
(990 1
)991 2
;992 3
return:: 
Ok:: 
(:: 
cliente:: 
):: 
;:: 
};; 	
[<< 	
HttpPut<<	 
(<< 
$str<< 
)<< 
]<< 
public== 
async== 
Task== 
<== 
IActionResult== '
>==' (

PutCliente==) 3
(==3 4
string==4 :
cedula==; A
,==A B
[==C D
FromBody==D L
]==L M
Cliente==N U
cliente==V ]
)==] ^
{>> 	
if?? 
(?? 
!?? 

ModelState?? 
.?? 
IsValid?? #
)??# $
{@@ 
varBB 
erroresBB 
=BB 

ModelStateBB (
.BB( )
ValuesBB) /
.CC 

SelectManyCC 
(CC  
vCC  !
=>CC" $
vCC% &
.CC& '
ErrorsCC' -
)CC- .
.DD 
SelectDD 
(DD 
eDD 
=>DD  
eDD! "
.DD" #
ErrorMessageDD# /
)DD/ 0
.EE 
ToListEE 
(EE 
)EE 
;EE 
returnGG 
OkGG 
(GG 
newGG 
{GG 
messageGG  '
=GG( )
$strGG* A
,GGA B
erroresGGC J
}GGK L
)GGL M
;GGM N
}HH 
ifJJ 
(JJ 
cedulaJJ 
!=JJ 
clienteJJ !
.JJ! "
CedulaJJ" (
)JJ( )
{KK 
returnLL 
OkLL 
(LL 
newLL 
{LL 
messageLL  '
=LL( )
$strLL* N
}LLO P
)LLP Q
;LLQ R
}MM 
stringOO 
mensajeOO 
=OO 
UtilsClienteOO )
.OO) *"
ValidacionDatosClienteOO* @
(OO@ A
clienteOOA H
)OOH I
;OOI J
ifPP 
(PP 
!PP 
stringPP 
.PP 
IsNullOrEmptyPP %
(PP% &
mensajePP& -
)PP- .
)PP. /
{QQ 
returnRR 
OkRR 
(RR 
newRR 
{RR 
messageRR  '
=RR( )
mensajeRR* 1
}RR2 3
)RR3 4
;RR4 5
}SS 
varVV 
clienteExistenteVV  
=VV! "
awaitVV# (
_appDBContextVV) 6
.VV6 7
ClienteVV7 >
.VV> ?
FirstOrDefaultAsyncVV? R
(VVR S
cVVS T
=>VVU W
cVVX Y
.VVY Z
CedulaVVZ `
==VVa c
cedulaVVd j
)VVj k
;VVk l
ifWW 
(WW 
clienteExistenteWW  
==WW! #
nullWW$ (
)WW( )
{XX 
returnYY 
OkYY 
(YY 
newYY 
{YY 
messageYY  '
=YY( )
$strYY* B
}YYC D
)YYD E
;YYE F
}ZZ 
clienteExistente]] 
.]] 
Nombre]] #
=]]$ %
cliente]]& -
.]]- .
Nombre]]. 4
;]]4 5
clienteExistente^^ 
.^^ 
Apellido^^ %
=^^& '
cliente^^( /
.^^/ 0
Apellido^^0 8
;^^8 9
clienteExistente__ 
.__ 
Correo__ #
=__$ %
cliente__& -
.__- .
Correo__. 4
;__4 5
clienteExistente`` 
.`` 
Telefono`` %
=``& '
cliente``( /
.``/ 0
Telefono``0 8
;``8 9
clienteExistenteaa 
.aa 
	Direccionaa &
=aa' (
clienteaa) 0
.aa0 1
	Direccionaa1 :
;aa: ;
trycc 
{dd 
_appDBContextee 
.ee 
Clienteee %
.ee% &
Updateee& ,
(ee, -
clienteExistenteee- =
)ee= >
;ee> ?
awaitff 
_appDBContextff #
.ff# $
SaveChangesAsyncff$ 4
(ff4 5
)ff5 6
;ff6 7
returngg 
Okgg 
(gg 
newgg 
{gg 
messagegg  '
=gg( )
$strgg* M
,ggM N
clienteggO V
=ggW X
clienteExistenteggY i
}ggj k
)ggk l
;ggl m
}hh 
catchii 
(ii (
DbUpdateConcurrencyExceptionii /
)ii/ 0
{jj 
returnkk 
Okkk 
(kk 
newkk 
{kk 
messagekk  '
=kk( )
$strkk* K
}kkL M
)kkM N
;kkN O
}ll 
catchmm 
(mm 
	Exceptionmm 
exmm 
)mm  
{nn 
returnoo 

StatusCodeoo !
(oo! "
StatusCodesoo" -
.oo- .(
Status500InternalServerErroroo. J
,ooJ K
newooL O
{ooP Q
messageooR Y
=ooZ [
exoo\ ^
.oo^ _
Messageoo_ f
}oog h
)ooh i
;ooi j
}pp 
}qq 	
[ss 	

HttpDeletess	 
(ss 
$strss 
)ss 
]ss  
publictt 
asynctt 
Tasktt 
<tt 
IActionResulttt '
>tt' (
DeleteClientett) 6
(tt6 7
stringtt7 =
cedulatt> D
)ttD E
{uu 	
varvv 
clientevv 
=vv 
awaitvv 
_appDBContextvv  -
.vv- .
Clientevv. 5
.vv5 6
FirstOrDefaultAsyncvv6 I
(vvI J
cvvJ K
=>vvL N
cvvO P
.vvP Q
CedulavvQ W
==vvX Z
cedulavv[ a
)vva b
;vvb c
ifww 
(ww 
clienteww 
==ww 
nullww 
)ww  
{xx 
returnyy 
Okyy 
(yy 
newyy 
{yy 
messageyy  '
=yy( )
$stryy* B
}yyC D
)yyD E
;yyE F
}zz 
var||  
reservasRelacionadas|| $
=||% &
await||' ,
_appDBContext||- :
.||: ;
Reserva||; B
.||B C
AnyAsync||C K
(||K L
r||L M
=>||N P
r||Q R
.||R S
CedulaCliente||S `
==||a c
cedula||d j
)||j k
;||k l
if}} 
(}}  
reservasRelacionadas}} $
)}}$ %
{~~ 
return 
Ok 
( 
new 
{ 
message  '
=( )
$str* b
}c d
)d e
;e f
}
АА 
_appDBContext
ББ 
.
ББ 
Cliente
ББ !
.
ББ! "
Remove
ББ" (
(
ББ( )
cliente
ББ) 0
)
ББ0 1
;
ББ1 2
await
ВВ 
_appDBContext
ВВ 
.
ВВ  
SaveChangesAsync
ВВ  0
(
ВВ0 1
)
ВВ1 2
;
ВВ2 3
return
ГГ 
Ok
ГГ 
(
ГГ 
cliente
ГГ 
)
ГГ 
;
ГГ 
}
ДД 	
}
ЕЕ 
public
ЗЗ 

static
ЗЗ 
partial
ЗЗ 
class
ЗЗ 
UtilsCliente
ЗЗ  ,
{
ИИ 
[
КК 	
GeneratedRegex
КК	 
(
КК 
$str
КК (
)
КК( )
]
КК) *
private
ЛЛ 
static
ЛЛ 
partial
ЛЛ 
Regex
ЛЛ $"
LetrasYEspaciosRegex
ЛЛ% 9
(
ЛЛ9 :
)
ЛЛ: ;
;
ЛЛ; <
[
НН 	
GeneratedRegex
НН	 
(
НН 
$str
НН L
)
ННL M
]
ННM N
private
ОО 
static
ОО 
partial
ОО 
Regex
ОО $"
EmailValidationRegex
ОО% 9
(
ОО9 :
)
ОО: ;
;
ОО; <
public
РР 
static
РР 
bool
РР 
ValidarCedula
РР (
(
РР( )
string
РР) /
cedula
РР0 6
)
РР6 7
{
СС 	
if
ТТ 
(
ТТ 
cedula
ТТ 
.
ТТ 
Length
ТТ 
!=
ТТ  
$num
ТТ! #
)
ТТ# $
{
УУ 
return
ФФ 
true
ФФ 
;
ФФ 
}
ХХ 
int
ЦЦ 
[
ЦЦ 
]
ЦЦ 
coeficientes
ЦЦ 
=
ЦЦ  
{
ЦЦ! "
$num
ЦЦ# $
,
ЦЦ$ %
$num
ЦЦ& '
,
ЦЦ' (
$num
ЦЦ) *
,
ЦЦ* +
$num
ЦЦ, -
,
ЦЦ- .
$num
ЦЦ/ 0
,
ЦЦ0 1
$num
ЦЦ2 3
,
ЦЦ3 4
$num
ЦЦ5 6
,
ЦЦ6 7
$num
ЦЦ8 9
,
ЦЦ9 :
$num
ЦЦ; <
}
ЦЦ= >
;
ЦЦ> ?
int
ЧЧ 
verificador
ЧЧ 
=
ЧЧ 
int
ЧЧ !
.
ЧЧ! "
Parse
ЧЧ" '
(
ЧЧ' (
cedula
ЧЧ( .
.
ЧЧ. /
	Substring
ЧЧ/ 8
(
ЧЧ8 9
$num
ЧЧ9 :
,
ЧЧ: ;
$num
ЧЧ< =
)
ЧЧ= >
)
ЧЧ> ?
;
ЧЧ? @
int
ШШ 
suma
ШШ 
=
ШШ 
$num
ШШ 
;
ШШ 
for
ЩЩ 
(
ЩЩ 
int
ЩЩ 
i
ЩЩ 
=
ЩЩ 
$num
ЩЩ 
;
ЩЩ 
i
ЩЩ 
<
ЩЩ 
$num
ЩЩ  !
;
ЩЩ! "
i
ЩЩ# $
++
ЩЩ$ &
)
ЩЩ& '
{
ЪЪ 
int
ЫЫ 
valor
ЫЫ 
=
ЫЫ 
int
ЫЫ 
.
ЫЫ  
Parse
ЫЫ  %
(
ЫЫ% &
cedula
ЫЫ& ,
.
ЫЫ, -
	Substring
ЫЫ- 6
(
ЫЫ6 7
i
ЫЫ7 8
,
ЫЫ8 9
$num
ЫЫ: ;
)
ЫЫ; <
)
ЫЫ< =
*
ЫЫ> ?
coeficientes
ЫЫ@ L
[
ЫЫL M
i
ЫЫM N
]
ЫЫN O
;
ЫЫO P
suma
ЬЬ 
+=
ЬЬ 
(
ЬЬ 
valor
ЬЬ 
>=
ЬЬ !
$num
ЬЬ" $
)
ЬЬ$ %
?
ЬЬ& '
valor
ЬЬ( -
-
ЬЬ. /
$num
ЬЬ0 1
:
ЬЬ2 3
valor
ЬЬ4 9
;
ЬЬ9 :
}
ЭЭ 
int
ЮЮ 
residuo
ЮЮ 
=
ЮЮ 
suma
ЮЮ 
%
ЮЮ  
$num
ЮЮ! #
;
ЮЮ# $
int
ЯЯ 
	resultado
ЯЯ 
=
ЯЯ 
(
ЯЯ 
residuo
ЯЯ $
==
ЯЯ% '
$num
ЯЯ( )
)
ЯЯ) *
?
ЯЯ+ ,
$num
ЯЯ- .
:
ЯЯ/ 0
$num
ЯЯ1 3
-
ЯЯ4 5
residuo
ЯЯ6 =
;
ЯЯ= >
return
†† 
(
†† 
	resultado
†† 
!=
††  
verificador
††! ,
)
††, -
;
††- .
}
°° 	
public
££ 
static
££ 
string
££ $
ValidacionDatosCliente
££ 3
(
££3 4
Cliente
££4 ;
cliente
££< C
)
££D E
{
§§ 	
string
¶¶ 
mensaje
¶¶ 
=
¶¶ 
$str
¶¶ 
;
¶¶  
mensaje
®® 
=
®® !
ValidarIngresoDatos
®® )
(
®®) *
cliente
®®* 1
)
®®1 2
;
®®2 3
if
™™ 
(
™™ 
mensaje
™™ 
!=
™™ 
$str
™™ 
)
™™ 
{
ЂЂ 
return
ђђ 
mensaje
ђђ 
;
ђђ 
}
≠≠ 
if
ѓѓ 
(
ѓѓ 
cliente
ѓѓ 
.
ѓѓ 
Cedula
ѓѓ 
.
ѓѓ 
Length
ѓѓ %
!=
ѓѓ& (
$num
ѓѓ) +
)
ѓѓ+ ,
{
∞∞ 
return
±± 
(
±± 
$str
±± :
)
±±: ;
;
±±; <
}
≤≤ 
else
≥≥ 
if
≥≥ 
(
≥≥ 
ValidarCedula
≥≥ "
(
≥≥" #
cliente
≥≥# *
.
≥≥* +
Cedula
≥≥+ 1
)
≥≥1 2
)
≥≥2 3
{
іі 
return
µµ 
(
µµ 
$str
µµ 1
)
µµ1 2
;
µµ2 3
}
ґґ 
else
ЈЈ 
if
ЈЈ 
(
ЈЈ 
!
ЈЈ 
long
ЈЈ 
.
ЈЈ 
TryParse
ЈЈ #
(
ЈЈ# $
cliente
ЈЈ$ +
.
ЈЈ+ ,
Cedula
ЈЈ, 2
,
ЈЈ2 3
out
ЈЈ4 7
long
ЈЈ8 <
result
ЈЈ= C
)
ЈЈC D
)
ЈЈD E
{
ЄЄ 
Console
єє 
.
єє 
	WriteLine
єє !
(
єє! "
result
єє" (
)
єє( )
;
єє) *
return
ЇЇ 
(
ЇЇ 
$str
ЇЇ B
)
ЇЇB C
;
ЇЇC D
}
її 
if
ЊЊ 
(
ЊЊ 
!
ЊЊ "
LetrasYEspaciosRegex
ЊЊ %
(
ЊЊ% &
)
ЊЊ& '
.
ЊЊ' (
IsMatch
ЊЊ( /
(
ЊЊ/ 0
cliente
ЊЊ0 7
.
ЊЊ7 8
Nombre
ЊЊ8 >
)
ЊЊ> ?
)
ЊЊ? @
{
њњ 
return
јј 
$str
јј >
;
јј> ?
}
ЅЅ 
if
√√ 
(
√√ 
!
√√ "
LetrasYEspaciosRegex
√√ %
(
√√% &
)
√√& '
.
√√' (
IsMatch
√√( /
(
√√/ 0
cliente
√√0 7
.
√√7 8
Apellido
√√8 @
)
√√@ A
)
√√A B
{
ƒƒ 
return
≈≈ 
$str
≈≈ @
;
≈≈@ A
}
∆∆ 
bool
…… 
correoValido
…… 
=
…… "
EmailValidationRegex
……  4
(
……4 5
)
……5 6
.
……6 7
IsMatch
……7 >
(
……> ?
cliente
……? F
.
……F G
Correo
……G M
)
……M N
;
……N O
if
ЋЋ 
(
ЋЋ 
!
ЋЋ 
correoValido
ЋЋ 
)
ЋЋ 
{
ЋЋ 
return
ЋЋ  &
$str
ЋЋ' @
;
ЋЋ@ A
}
ЋЋB C
if
ѕѕ 
(
ѕѕ 
cliente
ѕѕ 
.
ѕѕ 
Telefono
ѕѕ  
.
ѕѕ  !
Length
ѕѕ! '
!=
ѕѕ( *
$num
ѕѕ+ -
)
ѕѕ- .
{
–– 
return
—— 
(
—— 
$str
—— <
)
——< =
;
——= >
}
““ 
else
”” 
if
”” 
(
”” 
!
”” 
long
”” 
.
”” 
TryParse
”” #
(
””# $
cliente
””$ +
.
””+ ,
Telefono
””, 4
,
””4 5
out
””6 9
long
””: >
result
””? E
)
””E F
)
””F G
{
‘‘ 
Console
’’ 
.
’’ 
	WriteLine
’’ !
(
’’! "
result
’’" (
)
’’( )
;
’’) *
return
÷÷ 
(
÷÷ 
$str
÷÷ B
)
÷÷B C
;
÷÷C D
}
„„ 
return
ўў 
mensaje
ўў 
;
ўў 
}
ЏЏ 	
public
№№ 
static
№№ 
string
№№ !
ValidarIngresoDatos
№№ 0
(
№№0 1
Cliente
№№1 8
cliente
№№9 @
)
№№@ A
{
ЁЁ 	
if
ёё 
(
ёё 
cliente
ёё 
.
ёё 
Cedula
ёё 
==
ёё !
null
ёё" &
)
ёё& '
{
яя 
return
аа 
(
аа 
$str
аа 1
)
аа1 2
;
аа2 3
}
бб 
if
вв 
(
вв 
cliente
вв 
.
вв 
Nombre
вв 
==
вв !
null
вв" &
)
вв& '
{
гг 
return
дд 
(
дд 
$str
дд 1
)
дд1 2
;
дд2 3
}
ее 
if
жж 
(
жж 
cliente
жж 
.
жж 
Apellido
жж  
==
жж! #
null
жж$ (
)
жж( )
{
зз 
return
ии 
(
ии 
$str
ии 3
)
ии3 4
;
ии4 5
}
йй 
if
кк 
(
кк 
cliente
кк 
.
кк 
Correo
кк 
==
кк !
$str
кк" $
)
кк$ %
{
лл 
return
мм 
(
мм 
$str
мм 1
)
мм1 2
;
мм2 3
}
нн 
if
оо 
(
оо 
cliente
оо 
.
оо 
Telefono
оо  
==
оо! #
null
оо$ (
)
оо( )
{
пп 
return
рр 
(
рр 
$str
рр 3
)
рр3 4
;
рр4 5
}
сс 
if
тт 
(
тт 
cliente
тт 
.
тт 
	Direccion
тт !
==
тт" $
null
тт% )
)
тт) *
{
уу 
return
фф 
(
фф 
$str
фф 4
)
фф4 5
;
фф5 6
}
хх 
if
чч 
(
чч 
cliente
чч 
.
чч 
Nombre
чч 
.
чч 
Length
чч %
>
чч& '
$num
чч( +
)
чч+ ,
{
шш 
return
щщ 
(
щщ 
$str
щщ I
)
щщJ K
;
щщK L
}
ъъ 
else
ыы 
if
ыы 
(
ыы 
cliente
ыы 
.
ыы 
Apellido
ыы %
.
ыы% &
Length
ыы& ,
>
ыы- .
$num
ыы/ 2
)
ыы2 3
{
ьь 
return
ээ 
(
ээ 
$str
ээ K
)
ээL M
;
ээM N
}
юю 
else
€€ 
if
€€ 
(
€€ 
cliente
€€ 
.
€€ 
Correo
€€ #
.
€€# $
Length
€€$ *
>
€€+ ,
$num
€€- 0
)
€€0 1
{
АА 
return
ББ 
(
ББ 
$str
ББ I
)
ББJ K
;
ББK L
}
ВВ 
else
ГГ 
if
ГГ 
(
ГГ 
cliente
ГГ 
.
ГГ 
	Direccion
ГГ &
.
ГГ& '
Length
ГГ' -
>
ГГ. /
$num
ГГ0 3
)
ГГ3 4
{
ДД 
return
ЕЕ 
(
ЕЕ 
$str
ЕЕ L
)
ЕЕM N
;
ЕЕN O
}
ЖЖ 
return
ИИ 
$str
ИИ 
;
ИИ 
}
ЙЙ 	
}
КК 
}НН зЙ
TC:\Users\joela\source\repos\PruebaParcial2\Prueba2Hotel\Prueba2Hotel\AppDBContext.cs
	namespace 	
Prueba2Hotel
 
{ 
public 

class 
AppDBContext 
: 
	DbContext  )
{ 
public		 
AppDBContext		 
(		 
DbContextOptions		 ,
<		, -
AppDBContext		- 9
>		9 :
options		; B
)		B C
:		D E
base		F J
(		J K
options		K R
)		R S
{		T U
}		V W
public 
DbSet 
< 
Reserva 
> 
Reserva %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DbSet 
< 
Cliente 
> 
Cliente %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DbSet 
< 

Habitacion 
>  

Habitacion! +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
DbSet 
<  
ServiciosAdicionales )
>) * 
ServiciosAdicionales+ ?
{@ A
getB E
;E F
setG J
;J K
}L M
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
modelBuilder 
. 
Entity 
<  
Cliente  '
>' (
(( )
entity) /
=>0 2
{ 
entity 
. 
HasKey 
( 
c 
=>  "
c# $
.$ %
Id% '
)' (
;( )
entity 
. 
Property 
(  
c  !
=>" $
c% &
.& '
Cedula' -
)- .
.. /

IsRequired/ 9
(9 :
): ;
.; <
HasMaxLength< H
(H I
$numI K
)K L
;L M
entity 
. 
Property 
(  
c  !
=>" $
c% &
.& '
Nombre' -
)- .
.. /

IsRequired/ 9
(9 :
): ;
.; <
HasMaxLength< H
(H I
$numI L
)L M
;M N
entity 
. 
Property 
(  
c  !
=>" $
c% &
.& '
Apellido' /
)/ 0
.0 1

IsRequired1 ;
(; <
)< =
.= >
HasMaxLength> J
(J K
$numK N
)N O
;O P
entity 
. 
Property 
(  
c  !
=>" $
c% &
.& '
Correo' -
)- .
.. /

IsRequired/ 9
(9 :
): ;
.; <
HasMaxLength< H
(H I
$numI L
)L M
;M N
entity 
. 
Property 
(  
c  !
=>" $
c% &
.& '
Telefono' /
)/ 0
.0 1

IsRequired1 ;
(; <
)< =
.= >
HasMaxLength> J
(J K
$numK M
)M N
;N O
entity 
. 
Property 
(  
c  !
=>" $
c% &
.& '
	Direccion' 0
)0 1
.1 2

IsRequired2 <
(< =
)= >
.> ?
HasMaxLength? K
(K L
$numL O
)O P
;P Q
} 
) 
; 
modelBuilder 
. 
Entity 
<  

Habitacion  *
>* +
(+ ,
entity, 2
=>3 5
{   
entity!! 
.!! 
HasKey!! 
(!! 
h!! 
=>!!  "
h!!# $
.!!$ %
Id!!% '
)!!' (
;!!( )
entity"" 
."" 
Property"" 
(""  
h""  !
=>""" $
h""% &
.""& '
NumHabitacion""' 4
)""4 5
.""5 6

IsRequired""6 @
(""@ A
)""A B
.""B C
HasMaxLength""C O
(""O P
$num""P Q
)""Q R
.""R S
	IsUnicode""S \
(""\ ]
)""] ^
;""^ _
entity## 
.## 
Property## 
(##  
h##  !
=>##" $
h##% &
.##& '
NumMaximoPersonas##' 8
)##8 9
.##9 :

IsRequired##: D
(##D E
)##E F
;##F G
entity$$ 
.$$ 
Property$$ 
($$  
h$$  !
=>$$" $
h$$% &
.$$& '
Descripcion$$' 2
)$$2 3
.$$3 4

IsRequired$$4 >
($$> ?
)$$? @
.$$@ A
HasMaxLength$$A M
($$M N
$num$$N Q
)$$Q R
;$$R S
entity%% 
.%% 
Property%% 
(%%  
h%%  !
=>%%" $
h%%% &
.%%& '
Tipo%%' +
)%%+ ,
.%%, -

IsRequired%%- 7
(%%7 8
)%%8 9
.%%9 :
HasMaxLength%%: F
(%%F G
$num%%G J
)%%J K
;%%K L
entity&& 
.&& 
Property&& 
(&&  
h&&  !
=>&&" $
h&&% &
.&&& '
Estado&&' -
)&&- .
.&&. /
HasMaxLength&&/ ;
(&&; <
$num&&< ?
)&&? @
;&&@ A
}'' 
)'' 
;'' 
modelBuilder)) 
.)) 
Entity)) 
<))  
Reserva))  '
>))' (
())( )
entity))) /
=>))0 2
{** 
entity++ 
.++ 
HasKey++ 
(++ 
r++ 
=>++  "
r++# $
.++$ %
Id++% '
)++' (
;++( )
entity,, 
.,, 
Property,, 
(,,  
r,,  !
=>,," $
r,,% &
.,,& '
Entrada,,' .
),,. /
.,,/ 0

IsRequired,,0 :
(,,: ;
),,; <
;,,< =
entity-- 
.-- 
Property-- 
(--  
r--  !
=>--" $
r--% &
.--& '
Salida--' -
)--- .
.--. /

IsRequired--/ 9
(--9 :
)--: ;
;--; <
entity.. 
... 
Property.. 
(..  
r..  !
=>.." $
r..% &
...& '
Precio..' -
)..- .
.... /

IsRequired../ 9
(..9 :
)..: ;
...; <
HasColumnType..< I
(..I J
$str..J Z
)..Z [
;..[ \
entity// 
.// 
Property// 
(//  
r//  !
=>//" $
r//% &
.//& '
CedulaCliente//' 4
)//4 5
.//5 6

IsRequired//6 @
(//@ A
)//A B
.//B C
HasMaxLength//C O
(//O P
$num//P R
)//R S
;//S T
entity00 
.00 
Property00 
(00  
r00  !
=>00" $
r00% &
.00& '
NumHabitacion00' 4
)004 5
.005 6

IsRequired006 @
(00@ A
)00A B
.00B C
HasMaxLength00C O
(00O P
$num00P Q
)00Q R
;00R S
entity22 
.22 
HasOne22 
(22 
r22 
=>22  "
r22# $
.22$ %
Cliente22% ,
)22, -
.33 
WithMany33 
(33  
c33  !
=>33" $
c33% &
.33& '
Reservas33' /
)33/ 0
.44 
HasForeignKey44 $
(44$ %
r44% &
=>44' )
r44* +
.44+ ,
	ClienteId44, 5
)445 6
;446 7
entity66 
.66 
HasOne66 
(66 
r66 
=>66  "
r66# $
.66$ %

Habitacion66% /
)66/ 0
.77 
WithMany77 
(77  
h77  !
=>77" $
h77% &
.77& '
Reservas77' /
)77/ 0
.88 
HasForeignKey88 $
(88$ %
r88% &
=>88' )
r88* +
.88+ ,
HabitacionId88, 8
)888 9
;889 :
}99 
)99 
;99 
modelBuilder;; 
.;; 
Entity;; 
<;;   
ServiciosAdicionales;;  4
>;;4 5
(;;5 6
entity;;6 <
=>;;= ?
{<< 
entity== 
.== 
HasKey== 
(== 
s== 
=>==  "
s==# $
.==$ %
Id==% '
)==' (
;==( )
entity>> 
.>> 
Property>> 
(>>  
s>>  !
=>>>" $
s>>% &
.>>& '
Descripcion>>' 2
)>>2 3
.>>3 4

IsRequired>>4 >
(>>> ?
)>>? @
.>>@ A
HasMaxLength>>A M
(>>M N
$num>>N Q
)>>Q R
;>>R S
entity?? 
.?? 
Property?? 
(??  
s??  !
=>??" $
s??% &
.??& '
Costo??' ,
)??, -
.??- .

IsRequired??. 8
(??8 9
)??9 :
.??: ;
HasColumnType??; H
(??H I
$str??I Y
)??Y Z
;??Z [
entityAA 
.AA 
HasOneAA 
(AA 
sAA 
=>AA  "
sAA# $
.AA$ %
ReservaAA% ,
)AA, -
.BB 
WithManyBB 
(BB  
rBB  !
=>BB" $
rBB% &
.BB& ' 
ServiciosAdicionalesBB' ;
)BB; <
.CC 
HasForeignKeyCC $
(CC$ %
sCC% &
=>CC' )
sCC* +
.CC+ ,
	ReservaIdCC, 5
)CC5 6
;CC6 7
}DD 
)DD 
;DD 
}EE 	
}FF 
publicHH 

classHH 
ClienteHH 
{II 
[JJ 	

JsonIgnoreJJ	 
]JJ 
publicKK 
intKK 
IdKK 
{KK 
getKK 
;KK 
setKK  
;KK  !
}KK" #
publicLL 
requiredLL 
stringLL 
CedulaLL %
{LL& '
getLL( +
;LL+ ,
setLL- 0
;LL0 1
}LL2 3
publicMM 
requiredMM 
stringMM 
NombreMM %
{MM& '
getMM( +
;MM+ ,
setMM- 0
;MM0 1
}MM2 3
publicNN 
requiredNN 
stringNN 
ApellidoNN '
{NN( )
getNN* -
;NN- .
setNN/ 2
;NN2 3
}NN4 5
publicOO 
requiredOO 
stringOO 
CorreoOO %
{OO& '
getOO( +
;OO+ ,
setOO- 0
;OO0 1
}OO2 3
publicPP 
requiredPP 
stringPP 
TelefonoPP '
{PP( )
getPP* -
;PP- .
setPP/ 2
;PP2 3
}PP4 5
publicQQ 
requiredQQ 
stringQQ 
	DireccionQQ (
{QQ) *
getQQ, /
;QQ/ 0
setQQ1 4
;QQ4 5
}QQ6 7
[RR 	

JsonIgnoreRR	 
]RR 
publicSS 
ListSS 
<SS 
ReservaSS 
>SS 
?SS 
ReservasSS &
{SS' (
getSS) ,
;SS, -
setSS. 1
;SS1 2
}SS3 4
}TT 
publicVV 

classVV 

HabitacionVV 
{WW 
[XX 	

JsonIgnoreXX	 
]XX 
publicYY 
intYY 
IdYY 
{YY 
getYY 
;YY 
setYY  
;YY  !
}YY" #
publicZZ 
requiredZZ 
stringZZ 
TipoZZ #
{ZZ$ %
getZZ& )
;ZZ) *
setZZ+ .
;ZZ. /
}ZZ0 1
public[[ 
required[[ 
string[[ 
NumHabitacion[[ ,
{[[- .
get[[/ 2
;[[2 3
set[[4 7
;[[7 8
}[[9 :
public\\ 
required\\ 
int\\ 
NumMaximoPersonas\\ -
{\\. /
get\\0 3
;\\3 4
set\\5 8
;\\8 9
}\\: ;
public]] 
required]] 
string]] 
Descripcion]] *
{]]+ ,
get]]- 0
;]]0 1
set]]2 5
;]]5 6
}]]7 8
[__ 	

JsonIgnore__	 
]__ 
public`` 
string`` 
?`` 
Estado`` 
{`` 
get``  #
;``# $
set``% (
;``( )
}``* +
[bb 	

JsonIgnorebb	 
]bb 
publiccc 
Listcc 
<cc 
Reservacc 
>cc 
?cc 
Reservascc &
{cc' (
getcc) ,
;cc, -
setcc. 1
;cc1 2
}cc3 4
}dd 
publicff 

classff 
Reservaff 
{gg 
[hh 	

JsonIgnorehh	 
]hh 
publicii 
intii 
?ii 
Idii 
{ii 
getii 
;ii 
setii !
;ii! "
}ii# $
[jj 	

JsonIgnorejj	 
]jj 
publickk 
intkk 
?kk 
	ClienteIdkk 
{kk 
getkk  #
;kk# $
setkk% (
;kk( )
}kk* +
[ll 	

JsonIgnorell	 
]ll 
publicmm 
intmm 
?mm 
HabitacionIdmm  
{mm! "
getmm# &
;mm& '
setmm( +
;mm+ ,
}mm- .
publicnn 
requirednn 
DateTimenn  
?nn  !
Entradann" )
{nn* +
getnn, /
;nn/ 0
setnn1 4
;nn4 5
}nn6 7
publicoo 
requiredoo 
DateTimeoo  
?oo  !
Salidaoo" (
{oo) *
getoo+ .
;oo. /
setoo0 3
;oo3 4
}oo5 6
publicpp 
requiredpp 
decimalpp 
?pp  
Preciopp! '
{pp( )
getpp* -
;pp- .
setpp/ 2
;pp2 3
}pp4 5
publicqq 
requiredqq 
stringqq 
?qq 
CedulaClienteqq  -
{qq. /
getqq0 3
;qq3 4
setqq5 8
;qq8 9
}qq: ;
publicrr 
requiredrr 
stringrr 
?rr 
NumHabitacionrr  -
{rr. /
getrr0 3
;rr3 4
setrr5 8
;rr8 9
}rr: ;
[tt 	

JsonIgnorett	 
]tt 
publicuu 
Clienteuu 
?uu 
Clienteuu 
{uu  !
getuu" %
;uu% &
setuu' *
;uu* +
}uu, -
[vv 	

JsonIgnorevv	 
]vv 
publicww 

Habitacionww 
?ww 

Habitacionww %
{ww& '
getww( +
;ww+ ,
setww- 0
;ww0 1
}ww2 3
[xx 	

JsonIgnorexx	 
]xx 
publicyy 
Listyy 
<yy  
ServiciosAdicionalesyy (
>yy( )
?yy) * 
ServiciosAdicionalesyy+ ?
{yy@ A
getyyB E
;yyE F
setyyG J
;yyJ K
}yyL M
}zz 
public|| 

class||  
ServiciosAdicionales|| %
{}} 
[~~ 	

JsonIgnore~~	 
]~~ 
public 
int 
? 
Id 
{ 
get 
; 
set !
;! "
}# $
public
АА 
required
АА 
int
АА 
?
АА 
	ReservaId
АА &
{
АА' (
get
АА) ,
;
АА, -
set
АА. 1
;
АА1 2
}
АА3 4
public
ББ 
required
ББ 
string
ББ 
?
ББ 
Descripcion
ББ  +
{
ББ, -
get
ББ. 1
;
ББ1 2
set
ББ3 6
;
ББ6 7
}
ББ8 9
public
ВВ 
required
ВВ 
decimal
ВВ 
?
ВВ  
Costo
ВВ! &
{
ВВ' (
get
ВВ) ,
;
ВВ, -
set
ВВ. 1
;
ВВ1 2
}
ВВ3 4
[
ГГ 	

JsonIgnore
ГГ	 
]
ГГ 
public
ДД 
Reserva
ДД 
?
ДД 
Reserva
ДД 
{
ДД  !
get
ДД" %
;
ДД% &
set
ДД' *
;
ДД* +
}
ДД, -
}
ЕЕ 
}ЖЖ 